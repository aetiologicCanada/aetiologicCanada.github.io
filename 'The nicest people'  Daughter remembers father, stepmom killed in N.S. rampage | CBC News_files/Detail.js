/*! For license information please see Detail.955506df9f9bd180be2c.js.LICENSE.txt */
(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[10,6],{426:function(e,t,a){"use strict";a.r(t);var i=a(12),o=a.n(i),r=a(51),n=a.n(r),s=a(4),c=a.n(s),l=a(8),u=a.n(l),p=a(5),h=a.n(p),d=a(6),m=a.n(d),w=a(7),f=a.n(w),b=a(0),g=a.n(b),k=a(21),y=a(1),v=a.n(y),N=a(3),E=a.n(N),C=a(61),S=a(50),T=a(289),P=a(44),I=a.n(P),x=a(48),B=a.n(x),L=a(295),F=a(201),D=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"render",value:function(){var e=B.a.utc(this.props.runtime*F.a),t=e.hours()?F.b.longMediaFormat:F.b.shortMediaFormat,a=E()({mediaEmbed:!0,mediaIsLead:this.props.isLead,"sclt-mediaIsLead":this.props.isLead}),i=this.props.description?this.props.description:this.props.title,o=null;return this.props.showcaption&&(o=g.a.createElement("span",{className:"media-caption"},i," ",e.format(t))),g.a.createElement("span",{className:a},g.a.createElement(L.a,{clipID:this.props.clipID,categoryName:this.props.categoryName,autoPlay:this.props.autoPlay,forceVideo:this.props.forceVideo}),o)}}]),t}(g.a.Component);D.propTypes={clipID:v.a.string,categoryName:v.a.string,autoPlay:v.a.bool,forceVideo:v.a.bool,description:v.a.string,runtime:v.a.number,showcaption:v.a.bool,isLead:v.a.bool},D.defaultProps={clipID:"",categoryName:"",autoPlay:!1,forceVideo:!1,description:"",runtime:0,showcaption:!0,isLead:!1};var A=D,R=a(93),O=a(18),j=a.n(O),H=a(97),M=a(240),_=a(10),U=a(15),q=a(20),z={};function W(){return{type:M.c}}function V(e){return function(t){!function(e,t){var a={baseURL:_.d(M.a.CONFIG_KEY,M.a.DEFAULT_URL),id:t},i=decodeURIComponent(_.e(M.a.CONFIG_TEMPLATE,a));new Promise((function(a,o){Object(q.b)(i).then((function(e){if(e.ok)return U.a.debug("make_photogallery_API_call( ".concat(t," )")),e.json();throw new Error(e.statusText)})).catch((function(e){U.a.error("(PhotoGallery) make_photogallery_API_call( ".concat(t," ) - request failed [Error: ").concat(e,"]")),o(e.toString())})).then((function(i){e(function(e,t){return z[t]=e,{type:M.b,items:z}}(i,t)),a()}))}))}(t,e)}}var G=[300,460,620,780,1180],Y=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"getImageSrc",value:function(){var e,t=this.props.data.imgSrc;return t&&t.indexOf(this.props.originalAspectRatio)>-1?e=new RegExp(this.props.originalAspectRatio,"g"):t&&t.indexOf("original")>-1&&(e=new RegExp("original","g")),t=t?t.replace(e,this.props.params.$C.imgRatio):t}},{key:"render",value:function(){return g.a.createElement("li",null,g.a.createElement(R.a,{sizes:G,sizesRatio:this.props.originalAspectRatio,url:this.getImageSrc(),alt:this.props.data.imageAltTag}))}}]),t}(g.a.Component);Y.propTypes={data:y.object.isRequired,originalAspectRatio:y.string.isRequired,imageData:y.object,imgIndex:y.number,params:y.object},Y.defaultProps={imageData:{},imgIndex:0,params:{}};var $=Y;function J(e){return g.a.createElement("ul",{className:"images"},function(e){if("undefined"===typeof e.imageData)return;var t=e.imageData.galleryImages[e.imgIndex],a=[],i={imageAltTag:t.imageAltTag,imageRefId:"image".concat(e.imgIndex),imgSrc:t.imageFiles[0].file,imgIndex:e.imgIndex};return a.push(g.a.createElement($,{key:t.imageId,data:i,imageData:e.imageData,fullscreen:e.fullscreen,params:e.params,imgIndex:e.imgIndex,originalAspectRatio:e.originalAspectRatio})),a}(e))}J.propTypes={imgIndex:v.a.number.isRequired,fullscreen:v.a.bool.isRequired,originalAspectRatio:v.a.oneOf(["16x9","4x3","square"]).isRequired,params:v.a.object.isRequired},J.defaultProps={fullscreen:!1};var K=J;function X(e){var t=e.displayParam?g.a.createElement("span",{className:"counter"},function(e){var t="";if(e.displayParam){var a=e.imgIndex+1;t="".concat(a," of ").concat(e.totalImg)}return t}(e)):null;return g.a.createElement("span",{className:"photoGalleryCounter"},t)}X.propTypes={displayParam:v.a.bool,imgIndex:v.a.number,totalImg:v.a.number},X.defaultProps={displayParam:!0,imgIndex:0,totalImg:1};var Z=X,Q=a(423),ee=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"setText",value:function(){return this.props.captionsVisible?this.props.params.HIDE_CAPTIONS:this.props.params.SHOW_CAPTIONS}},{key:"checkDisplay",value:function(){var e=this.props.clickHandler.bind(this),t=E()({chevron:!0,showIcon:!this.props.captionsVisible});if(this.props.params.$C.enableCaptions)return g.a.createElement("button",{ref:"captionLink",className:"captions",onClick:e},this.setText(),g.a.createElement("span",{className:t},g.a.createElement(Q.a,{type:"chevron"})))}},{key:"render",value:function(){return g.a.createElement("span",{className:"photoGalleryCaption"},this.checkDisplay())}}]),t}(g.a.Component);ee.propTypes={clickHandler:v.a.func.isRequired,captionsVisible:v.a.bool.isRequired,params:v.a.object.isRequired},ee.defaultProps={captionsVisible:!1};var te=ee;function ae(e){return g.a.createElement("li",null,e.description)}ae.propTypes={description:v.a.string.isRequired},ae.defaultProps={description:""};var ie=ae;function oe(e){var t=E()({captions:!0,on:e.captionsVisible}),a=null;return e.params.$C.enableCaptions&&(a=g.a.createElement("ul",{className:t},function(e){if(!e.imageData)return;if(0===Object.getOwnPropertyNames(e.imageData).length)return;if(e.params.$C.enableCaptions){var t=e.imageData.galleryImages[e.imgIndex],a=[],i="";t.imageDescription&&""!==t.imageDescription&&(i+=" ".concat(t.imageDescription)),t.imageCredit&&""!==t.imageCredit&&(i+=" ".concat(t.imageCredit)),""===i&&(i="No description available");var r={description:i,id:e.imgIndex};return a.push(g.a.createElement(ie,o()({key:e.imgIndex},r))),a}}(e))),g.a.createElement("span",{className:"photoGalleryOverlayCaption"},a)}oe.propTypes={imgIndex:v.a.number.isRequired,params:v.a.object.isRequired},oe.defaultProps={};var re=oe,ne=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.clickHandler.bind(this),t=g.a.createElement("svg",{baseProfile:"tiny",focusable:"false",x:"0px",y:"0px",className:"thumbs",width:"50px",height:"28px",viewBox:"0 0 50 28",space:"preserve"},g.a.createElement("g",null,g.a.createElement("path",{fill:"#FFFFFF",d:"M1,1v26h47V1H1z M3,25v-6h15V9H3V3h43v6h-7v10h7v6H3z"}),g.a.createElement("rect",{x:"20",y:"9",fill:"#FFFFFF",width:"17",height:"10"}))),a=E()({icon:!0,on:this.props.thumbsState});return this.props.params.$C.enableThumbnails?g.a.createElement("a",{ref:"gallerythumbs",href:"#gallerythumbs",title:"Toggle Thumbnail Navigator",onClick:e,className:a},t,g.a.createElement("span",{className:"a11y"},"Toggle Thumbnail Navigator")):null}}]),t}(g.a.Component);ne.propTypes={clickHandler:v.a.func.isRequired,params:v.a.object.isRequired,thumbsState:v.a.bool.isRequired},ne.defaultProps={};var se=ne,ce=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.clickHandler.bind(this),t=E()({selected:this.props.globalIndex===this.props.id});return g.a.createElement("li",{className:t},g.a.createElement("a",{onClick:e,href:"#gallerythumbs","data-index":this.props.id},g.a.createElement(R.a,{url:this.props.source})))}}]),t}(g.a.Component);ce.propTypes={clickHandler:v.a.func.isRequired,source:v.a.string.isRequired,id:v.a.number.isRequired},ce.defaultProps={source:"",id:0};var le=ce,ue=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"populateThumbnails",value:function(e){if("undefined"!==typeof e&&this.props.params.$C.enableThumbnails){var t,a=this.props.clickHandler.bind(this),i=e.galleryImages,r=this.props.params.THUMB_WIDTH/this.props.params.THUMB_HEIGHT,n=[],s=this;return i.map((function(e,i){t=e.imageThumbnail.width/e.imageThumbnail.height>=r?"inside|*:".concat(s.props.params.THUMB_HEIGHT):"inside|".concat(s.props.params.THUMB_WIDTH,":*");var c={source:e.imageThumbnail.file||e.imageFiles[0].file,id:i,clickHandler:a.bind(s),transformValues:t};n.push(g.a.createElement(le,o()({key:i},c,{globalIndex:s.props.imgIndex})))})),n}}},{key:"updateThumbRail",value:function(){if(this.props.params.$C.enableThumbnails){var e=this.refs.thumbsUl,t=parseInt(e.style.width.replace(this.props.params.PX,"")),a=e.style.left.replace(this.props.params.PX,""),i=0;if(t>this.props.params.$S.width-this.props.params.THUMB_NAV_WIDTH){i=-1*(t-(this.props.params.$S.width-this.props.params.THUMB_NAV_WIDTH))}a<i&&a<0?e.style.left=i+this.props.params.PX:a>=0&&(e.style.left="0px")}}},{key:"handleMouseEnter",value:function(e){e.preventDefault();var t=this.refs.thumbsUl,a=this.hasClass(e.target,"prev")?"prev":"next",i=t.offsetWidth,o=this.props.params.$S.width-this.props.params.THUMB_NAV_WIDTH,r=o-i,n=0,s=0;if(i>o){var c=this;this.props.params.$S.thumbInterval=setInterval((function(){n<10&&s%10===0&&n++;var e=parseInt(t.style.left);"prev"===a&&e<0?t.style.left=e+n+c.props.params.PX:"next"===a&&e>r?t.style.left=e-n+c.props.params.PX:"prev"===a&&e>0?t.style.left=0+c.props.params.PX:"next"===a&&e<r?t.style.left=r+c.props.params.PX:clearInterval(c.props.params.$S.thumbInterval),s++}),10)}}},{key:"handleMouseLeave",value:function(){clearInterval(this.props.params.$S.thumbInterval)}},{key:"hasClass",value:function(e,t){return new RegExp(" ".concat(t," ")).test(" ".concat(e.className," "))}},{key:"componentDidMount",value:function(){this.updateThumbRail()}},{key:"checkDisplay",value:function(){var e="0px";if(void 0!==this.props.imageData){e=94*this.props.totalImg+this.props.params.PX}var t=E()("thumbnav","prev"),a=E()("thumbnav","next");if(this.props.params.$C.enableThumbnails)return g.a.createElement("div",{ref:"thumbcontainer",className:"thumbcontainer"},g.a.createElement("div",{className:t,onFocus:this.handleMouseEnter.bind(this),onMouseOver:this.handleMouseEnter.bind(this),onBlur:this.handleMouseLeave.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),onTouchStart:this.handleMouseEnter.bind(this),onTouchEnd:this.handleMouseLeave.bind(this)},g.a.createElement(Q.a,{type:"chevron"})),g.a.createElement("div",{className:a,onFocus:this.handleMouseEnter.bind(this),onMouseOver:this.handleMouseEnter.bind(this),onBlur:this.handleMouseLeave.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),onTouchStart:this.handleMouseEnter.bind(this),onTouchEnd:this.handleMouseLeave.bind(this)},g.a.createElement(Q.a,{type:"chevron"})),g.a.createElement("div",{className:"thumbnails"},g.a.createElement("ul",{ref:"thumbsUl",style:{width:e}},this.populateThumbnails(this.props.imageData))))}},{key:"render",value:function(){return g.a.createElement("span",{className:"photoGalleryOverlayThumbs"},this.checkDisplay())}}]),t}(g.a.Component);ue.propTypes={clickHandler:v.a.func.isRequired,params:v.a.object.isRequired},ue.defaultProps={};var pe=ue,he=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this,e))).state={},a}return f()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.clickHandler.bind(this),t=g.a.createElement("svg",{version:"1.1",baseProfile:"tiny",focusable:"false",className:"fullscreen",x:"0px",y:"0px",width:"45px",height:"32px",viewBox:"0 0 45 32",space:"preserve"},g.a.createElement("g",null,g.a.createElement("path",{fill:"#fff",d:"M37.4,32H0V7.8h37.4C37.4,7.8,37.4,32,37.4,32z M2.7,29.3h31.9V10.5H2.7V29.3z"}),g.a.createElement("polygon",{fill:"#fff",points:"42.3,0 27.3,0 27.3,2.7 42.3,2.7 42.3,13.3 45,13.3 45,2.7 45,0 "})));return this.props.params.$C.enableFullscreen?g.a.createElement("button",{ref:"fullscreen",onClick:e,className:"icon"},t,g.a.createElement("span",{className:"a11y"},"Toggle Fullscreen")):null}}]),t}(g.a.Component);he.propTypes={clickHandler:v.a.func.isRequired},he.defaultProps={};var de=he,me=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this,e))).prevText="Previous",a.nextText="Next",a}return f()(t,e),u()(t,[{key:"setNavText",value:function(e){var t=e.imgIndex+1,a=t+1,i=t-1,o=e.totalImg;this.prevText=1===t?"At the beginning of image gallery":"Show previous image (".concat(i," of ").concat(o,")"),this.nextText=a>o?"At the end of the image stream":"Show next image (".concat(a," of ").concat(o,")")}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.imgIndex&&this.setNavText(e)}},{key:"render",value:function(){var e=this.props.clickPrevHandler.bind(this),t=this.props.clickNextHandler.bind(this),a=E()({nav:!0,next:!0,"no-select":!0,disabled:this.props.imgIndex===this.props.totalImg-1}),i=E()({nav:!0,prev:!0,"no-select":!0,disabled:0===this.props.imgIndex});return g.a.createElement("span",{className:"photoGalleryNavigation"},g.a.createElement("button",{onClick:e,className:i},g.a.createElement(Q.a,{type:"chevron"}),g.a.createElement("span",{className:"a11y"},this.prevText)),g.a.createElement("button",{onClick:t,className:a},g.a.createElement(Q.a,{type:"chevron"}),g.a.createElement("span",{className:"a11y"},this.nextText)))}}]),t}(g.a.Component);me.propTypes={clickPrevHandler:v.a.func.isRequired,clickNextHandler:v.a.func.isRequired,imgIndex:v.a.number.isRequired,totalImg:v.a.number.isRequired},me.defaultProps={};var we=me,fe=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this,e))).staticProps={TOOLBAR_HEIGHT:32,THUMB_NAV_WIDTH:32,THUMB_WIDTH:78,THUMB_HEIGHT:46,DEEPLINK_PREFIX:"#igImgId_",SHOW_CAPTIONS:"Show caption",HIDE_CAPTIONS:"Hide caption",PX:"px",$C:{enableCaptions:a.props.enableCaptions,captionsVisible:a.props.captionsVisible,enableThumbnails:a.props.enableThumbnails,thumbnailsVisible:a.props.thumbnailsVisible,enableFullscreen:a.props.enableFullscreen,enableTools:a.props.enableTools,leadmedia:a.props.leadmedia},$S:{width:0,height:0,imageCount:0,thumbInterval:null,startImageId:null,startImageIdx:0}},a.state={thumbsDisplay:a.staticProps.$C.thumbnailsVisible,captionsVisible:a.staticProps.$C.captionsVisible,imgIndex:0,fullscreen:!1},a.init(),a}return f()(t,e),u()(t,[{key:"init",value:function(){!1===this.staticProps.$C.enableTools&&(this.staticProps.TOOLBAR_HEIGHT=0,this.staticProps.$C.enableTools=!1,this.staticProps.$C.enableCaptions=!1,this.staticProps.$C.enableThumbnails=!1,this.staticProps.$C.enableFullscreen=!1)}},{key:"getImageRatio",value:function(e){this.staticProps.$C.imgRatio=void 0!==this.props.imgRatio?this.props.imgRatio:e.galleryAspectRatio,"4x3"!==this.staticProps.$C.imgRatio||"16x9"!==this.staticProps.$C.imgRatio||"square"!==this.staticProps.$C.imgRatio||console.log("image aspect ratio was set incorrectly for photoGallery, please use one of these 3 values : 4x3, 16x9 or square")}},{key:"setContainerDimensions",value:function(){var e=this.refs.container;e&&(this.staticProps.$S.width=Math.ceil(parseFloat(e.offsetWidth)),this.staticProps.$S.height=Math.ceil(parseFloat(e.offsetHeight))-this.staticProps.TOOLBAR_HEIGHT)}},{key:"sortImageFiles",value:function(e){var t,a=e.galleryImages,i=a.length;for(t=0;t<i;t++){for(var o=a[t].imageFiles.length,r=0;r<o;r++)0!==a[t].imageFiles[r].width&&0!==a[t].imageFiles[r].height||a[t].imageFiles.splice(r,1);a[t].imageFiles.sort(this.compareImageSizes)}}},{key:"compareImageSizes",value:function(e,t){return e.width<t.width?-1:e.width>t.width?1:0}},{key:"componentWillUnmount",value:function(){this.props.on_reset()}},{key:"onPrevClick",value:function(){0!==this.state.imgIndex&&this.setState({imgIndex:this.state.imgIndex-1})}},{key:"onNextClick",value:function(){var e=this.props.items;this.state.imgIndex!==e.galleryImages.length-1&&this.setState({imgIndex:this.state.imgIndex+1})}},{key:"onThumbButtonClick",value:function(e){e.preventDefault(),this.setState({thumbsDisplay:!this.state.thumbsDisplay})}},{key:"onCaptionsButtonClick",value:function(e){e.preventDefault(),this.setState({captionsVisible:!this.state.captionsVisible})}},{key:"onThumbClick",value:function(e){e.preventDefault(),this.setState({imgIndex:parseInt(e.currentTarget.dataset.index)})}},{key:"onFullScreenButtonClick",value:function(e){e.preventDefault(),this.setState({fullscreen:!this.state.fullscreen}),S.a.updateBodyScrollState(!this.state.fullscreen)}},{key:"render",value:function(){var e,t=this.state.captionsVisible,a=this.state.thumbsDisplay,i=this.state.fullscreen,o=this.state.imgIndex,r="16x9",n="embeddable-pg_16x9",s="fs_16x9",c=0,l=this.props.photogalleryID,u=this.staticProps.$C.leadmedia,p=this.props.items;if("undefined"===typeof p)this.props.load_photogallery_data(l);else{this.sortImageFiles(p),this.setContainerDimensions(),this.getImageRatio(p),c=p.galleryImages.length,r=p.galleryAspectRatio;var h=this.staticProps.$C.imgRatio;n="embeddable-pg_".concat(h),s="fs_".concat(h)}var d=E()(j()({"embeddable-item":!0,cbcfgfullscreen:i},s,i)),m=E()((e={PhotoGallery:!0},j()(e,n,!i),j()(e,"leadmedia",u),j()(e,"sclt-leadmedia",u),e)),w=E()({overlays:!0,thumbOn:a}),f=i?g.a.createElement("button",{"aria-label":"close",className:"cbcfgfullscreen-close",onClick:this.onFullScreenButtonClick.bind(this)},g.a.createElement(Q.a,{type:"close"})):null;return g.a.createElement("span",{className:m},g.a.createElement("div",{className:d,ref:"container"},f,g.a.createElement("div",{ref:"loader",style:{overflow:"hidden"},className:"cbcfg"},g.a.createElement(K,{imageData:p,params:this.staticProps,imgIndex:o,fullscreen:i,originalAspectRatio:r}),g.a.createElement("div",{className:w,ref:"overlays"},g.a.createElement(re,{imageData:p,params:this.staticProps,imgIndex:o,captionsVisible:t}),g.a.createElement(pe,{imageData:p,params:this.staticProps,totalImg:c,imgIndex:o,clickHandler:this.onThumbClick.bind(this)})),g.a.createElement(we,{clickNextHandler:this.onNextClick.bind(this),clickPrevHandler:this.onPrevClick.bind(this),imgIndex:o,totalImg:c}),g.a.createElement("div",{className:"tools",ref:"tools"},g.a.createElement(te,{params:this.staticProps,clickHandler:this.onCaptionsButtonClick.bind(this),captionsVisible:t}),g.a.createElement(de,{params:this.staticProps,clickHandler:this.onFullScreenButtonClick.bind(this)}),g.a.createElement(se,{params:this.staticProps,clickHandler:this.onThumbButtonClick.bind(this),thumbsState:a,captionsVisible:t}),g.a.createElement(Z,{displayParam:this.staticProps.$C.enableTools,imgIndex:o,totalImg:c})))))}}]),t}(g.a.Component);fe.defaultProps={enableCaptions:!0,captionsVisible:!0,enableThumbnails:!0,thumbnailsVisible:!1,enableFullscreen:!0,enableTools:!0,refreshBigBox:!1,leadmedia:!1};var be=Object(k.connect)((function(e,t){return{items:e.photogallery.items[t.photogalleryID]}}),(function(e){return Object(H.bindActionCreators)({load_photogallery_data:V,on_reset:W},e)}))(fe),ge=function(e,t,a,i){var o=document.createElement("script");o.type="text/javascript",a&&(o.async=!0),void 0!==i&&(o.id=i),o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,t&&t())}:o.onload=function(){t&&t()},o.src=e,document.getElementsByTagName("head")[0].appendChild(o)},ke={"data-cards":"hidden"},ye={"data-conversation":"none"},ve=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){t.scriptLoaded?"undefined"!==typeof window.twttr&&window.twttr.widgets.load():(ge("//platform.twitter.com/widgets.js"),t.scriptLoaded=!0)}},{key:"render",value:function(){if(this.props.body){var e=this.getLink(),t=e?"&mdash;":null;return g.a.createElement("blockquote",o()({className:"twitter-tweet"},this.getAttr()),g.a.createElement("p",null,this.props.body),t,e)}return null}},{key:"getAttr",value:function(){var e={lang:"en"};return this.props.includemedia||(e=Object.assign(e,ke)),this.props.includeparenttweet||(e=Object.assign(e,ye)),e}},{key:"getLink",value:function(){return this.props.url&&this.props.user?g.a.createElement("a",{href:this.props.url},this.props.user):null}}]),t}(g.a.Component);ve.propTypes={user:v.a.string,body:v.a.string,includemedia:v.a.bool,includeparenttweet:v.a.bool,url:v.a.string},ve.defaultProps={user:"",body:"",includemedia:!0,includeparenttweet:!0,url:""},ve.scriptLoaded=!1;var Ne=ve,Ee=_.d("Client.instagramApi.baseApiURL"),Ce=a(200),Se=a(112),Te=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this,e))).state={instagramEmbed:""},a}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.fetchInstagram()}},{key:"fetchInstagram",value:function(){var e=this,t=this.getInstagramToken(this.props.url);Object(q.b)("".concat(Ee).concat(t)).then((function(e){if(Object(Se.a)(e))return e.json();throw new Error(e.status)})).then((function(t){e.setState({instagramEmbed:t.html})})).catch((function(e){console.log("Instagram rendering (".concat(Ee).concat(t,") failed [Error: ").concat(e,"]"))}))}},{key:"getInstagramToken",value:function(e){var t=e.split("/");return t[t.length-2]}},{key:"render",value:function(){return g.a.createElement("div",{className:"instagram"},g.a.createElement(Ce.a,{html:this.state.instagramEmbed,targetParent:!0}))}}]),t}(g.a.Component);Te.propTypes={url:v.a.string.isRequired},Te.defaultProps={url:""};var Pe=a(203),Ie=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this,e))).scriptLoaded=!1,a}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.scriptLoaded||(ge("//embed.scribblelive.com/widgets/embed.js",null,null,"scrbbl-js"),this.scriptLoaded=!0)}},{key:"render",value:function(){var e="/event/".concat(this.props.eventid,"/").concat(this.props.themeid),t="accessibilitySkipLinks".concat(this.props.eventid);return g.a.createElement(g.a.Fragment,null,g.a.createElement(Pe.a,{linkText:"Skip Scribble",linkHref:"#".concat(t)}),g.a.createElement("div",{className:"scribble scrbbl-embed","data-src":e}),g.a.createElement("span",{id:t}))}}]),t}(g.a.Component);Ie.propTypes={eventid:v.a.string.isRequired,themeid:v.a.string.isRequired},Ie.defaultProps={eventid:"0",themeid:"0"};var xe=Ie,Be=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this,e))).scriptLoaded=!1,a}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this;this.scriptLoaded||(ge("//s3.amazonaws.com/s3.documentcloud.org/viewer/loader.js"),ge("//assets.documentcloud.org/viewer/viewer.js"),this.scriptLoaded=!0);window.setTimeout((function(){if("undefined"!==typeof window.DV)try{window.DV.load("//www.documentcloud.org/documents/".concat(e.props.documentid,".js"),{width:460,height:650,sidebar:!1,text:!1,responsive:!0,container:"#DV-viewer-".concat(e.props.documentid)})}catch(t){console.log(t)}}),2e3)}},{key:"render",value:function(){var e="DV-viewer-".concat(this.props.documentid),t="http://s3.documentcloud.org/documents/".concat(this.props.documentnumber,"/").concat(this.props.documentstub),a="".concat(t,".pdf"),i="".concat(t,".txt");return g.a.createElement("span",{className:"documentCloud"},g.a.createElement("span",{className:"heading"},this.props.documenttitle),g.a.createElement("span",{id:e,className:"documentCloudContainer DV-container"}),g.a.createElement("span",{className:"external"},g.a.createElement("a",{href:a},"Mobile users: View the document"),g.a.createElement("br",null),g.a.createElement("a",{href:a},this.props.documenttitle," (PDF"," ",this.props.documentfilesize,"KB)"),g.a.createElement("br",null),g.a.createElement("a",{href:i},this.props.documenttitle," (Text"," ",this.props.documentfilesize,"KB)")),g.a.createElement("span",{className:"disclaimer"},"CBC is not responsible for 3rd party content"))}}]),t}(g.a.Component);Be.propTypes={documenttitle:v.a.string,documenturl:v.a.string,documentid:v.a.string,documentnumber:v.a.string,documentstub:v.a.string,documentfilesize:v.a.string},Be.defaultProps={};var Le=Be,Fe=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"render",value:function(){return g.a.createElement("span",{className:"storify"},g.a.createElement("iframe",{className:"storifyIframe",title:"Storify Content",src:this.props.iframesrc,allowTransparency:!0}))}}]),t}(g.a.Component);Fe.propTypes={iframesrc:v.a.string.isRequired,scriptsrc:v.a.string,storyhref:v.a.string,storytitle:v.a.string},Fe.defaultProps={iframesrc:""};var De=Fe,Ae=a(40),Re=a.n(Ae),Oe=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this,e))).state={embedHeight:300},a.updateEmbedHeight=a.updateEmbedHeight.bind(Re()(a)),a}return f()(t,e),u()(t,[{key:"updateEmbedHeight",value:function(e){var t=this.props.url.match(/^https?:\/\/.+cbc\.ca/);if(t&&e.origin&&e.origin.match(t)){var a=e.data;"object"===n()(a)&&a.embedHeight>0&&this.state.embedHeight!==a.embedHeight&&this.setState({embedHeight:a.embedHeight})}}},{key:"componentDidMount",value:function(){"undefined"!==typeof window&&window.addEventListener("message",this.updateEmbedHeight)}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof window&&window.removeEventListener("message",this.updateEmbedHeight)}},{key:"render",value:function(){var e=this.props,t=e.url,a=e.introtext,i=this.state.embedHeight;return g.a.createElement("div",{className:"storyCardCarousel"},g.a.createElement("iframe",{className:"storyCardCarouselIframe",title:a+" - Information Carousel.",src:t,style:{height:i+"px"}}))}}]),t}(g.a.Component);Oe.propTypes={introtext:v.a.string,url:v.a.string},Oe.defaultProps={introtext:"",url:""};var je=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){t.scriptLoaded||(ge("//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3"),t.scriptLoaded=!0)}},{key:"render",value:function(){return g.a.createElement("div",{className:"facebook"},g.a.createElement("div",{className:"fb-post","data-href":this.props.url,"data-width":"500"}))}}]),t}(g.a.Component);je.propTypes={introtext:v.a.string,url:v.a.string,width:v.a.string},je.defaultProps={introtext:"",url:"",width:"500"},je.scriptLoaded=!1;var He=je,Me=a(765),_e=a(13),Ue=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"render",value:function(){var e={external:this.props.external,url:this.props.href,"data-contentid":""};return g.a.createElement("ul",{className:"similarLinks"},g.a.createElement("li",{className:"similarListItem"},g.a.createElement(_e.a,o()({},e,{className:"similarLink"}),g.a.createElement(Me.a,{flag:this.props.flag,external:e.external}),g.a.createElement("span",{className:"similarLinkText"},this.props.text))))}}]),t}(g.a.Component);Ue.propTypes={external:v.a.bool,href:v.a.string,text:v.a.string},Ue.defaultProps={external:!0,href:"",text:""};var qe=Ue,ze=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this,e))).state={},a}return f()(t,e),u()(t,[{key:"render",value:function(){var e="https://www.youtube.com/embed/".concat(this.props.id);return g.a.createElement("span",{className:"youtube"},g.a.createElement("iframe",{src:e,frameBorder:"no",title:"YouTube content",allowFullScreen:!0}))}}]),t}(g.a.Component);ze.propTypes={},ze.defaultProps={};var We=ze,Ve=a(176),Ge=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"render",value:function(){return g.a.createElement("div",{className:"fb-video facebookVideo","data-href":this.props.url,"data-show-text":"false"})}}]),t}(He),Ye=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this,e))).state={},a}return f()(t,e),u()(t,[{key:"processNode",value:function(e){if(!e)return[];var t=e.children,a="",i="",o=new Ve.a;return t.map((function(e){"span"===e.name||"p"===e.name?a=o._getNodeText(e):"text"===e.type&&""!==e.content.trim()&&(a=e.content.trim()),a='"'===(a=a.replace(/^'(.*)'$/,"$1")).charAt(0)?a.replace(/^"(.*)"$/,"$1"):a,"cite"===e.name&&(i=o._getNodeText(e))})),[a,i]}},{key:"render",value:function(){var e=g.a.createElement("svg",{className:"pullquote-quotation-open",version:"1.1",focusable:"false",x:"0px",y:"0px",width:"30px",height:"25px",viewBox:"0 0 52.157 39.117",enableBackground:"new 0 0 52.157 39.117",space:"preserve"},g.a.createElement("g",null,g.a.createElement("g",null,g.a.createElement("path",{fill:"000000",d:"M22.692,10.113c-5.199,1.4-8.398,4.4-8.398,8.801c0,2.4,2,3,3.6,4.199c2.2,1.602,3.4,3.4,3.4,6.602   c0,3.799-3.4,6.799-7.4,6.799c-4.6,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z M45.692,10.113   c-5.199,1.4-8.399,4.4-8.399,8.801c0,2.4,2,3,3.601,4.199c2.2,1.602,3.399,3.4,3.399,6.602c0,3.799-3.399,6.799-7.399,6.799   c-4.601,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z"}))),g.a.createElement("g",{display:"none"},g.a.createElement("g",{display:"inline"}," ",g.a.createElement("path",{fill:"000000",d:"M6.648,29.759c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.399-3.4-3.399-6.6   c0-3.801,3.399-6.801,7.399-6.801c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z M29.648,29.759   c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.401-3.4-3.401-6.6c0-3.801,3.401-6.801,7.401-6.801   c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z"})))),t=g.a.createElement("svg",{className:"pullquote-quotation-close",focusable:"false",x:"0px",y:"0px",width:"23px",height:"22px",viewBox:"0 0 52.157 39.117",enableBackground:"new 0 0 52.157 39.117",space:"preserve"},g.a.createElement("g",{display:"none"},g.a.createElement("g",{display:"inline"},g.a.createElement("path",{fill:"000000",d:"M22.692,10.113c-5.199,1.4-8.398,4.4-8.398,8.801c0,2.4,2,3,3.6,4.199c2.2,1.602,3.4,3.4,3.4,6.602   c0,3.799-3.4,6.799-7.4,6.799c-4.6,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z M45.692,10.113   c-5.199,1.4-8.399,4.4-8.399,8.801c0,2.4,2,3,3.601,4.199c2.2,1.602,3.399,3.4,3.399,6.602c0,3.799-3.399,6.799-7.399,6.799   c-4.601,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z"}))),g.a.createElement("g",null,g.a.createElement("g",null,g.a.createElement("path",{fill:"000000",d:"M6.648,29.759c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.399-3.4-3.399-6.6   c0-3.801,3.399-6.801,7.399-6.801c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z M29.648,29.759   c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.401-3.4-3.401-6.6c0-3.801,3.401-6.801,7.401-6.801   c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z"})))),a=this.processNode(this.props.node),i=a[0]?g.a.createElement("span",{className:"pullquote-quotation"},e,a[0],t):null,o=a[1]?g.a.createElement("cite",{className:"pullquote-source"},a[1]):null;return null!==i||null!==o?g.a.createElement("blockquote",{className:"pullquote"},g.a.createElement("span",{className:"text-items"},i,o)):null}}]),t}(g.a.Component);Ye.propTypes={},Ye.defaultProps={};var $e=Ye,Je=a(17),Ke=a(100),Xe=[300,460,620,780,1180],Ze=0,Qe=0,et=0,tt=0,at=0,it=0,ot=0,rt={twitter:Ne,instagram:Te,scribblelive:xe,documentcloud:Le,storify:De,facebookpost:He,facebookvideo:Ge,customhtml:Ce.a,youtube:We,cardcarousel:Oe},nt=function(e){var t=e.photogalleries;return t instanceof Array&&(t=t[at++])?g.a.createElement(be,{enableThumbnails:!1,leadmedia:!1,photogalleryID:t.id,key:I()()}):null},st=function(e){return e?g.a.createElement($e,{node:e,key:I()()}):null},ct=function(e,t,a){if(e&&t){if(!(a instanceof Array))return null;if(!a[ot])return null;var i={type:"in-read",key:I()(),lazy:0!==ot,targeting:Object.assign({type:"ocelot",contentId:t.contentId,rmtype:"bigbox",plc:0===ot?"read":"read".concat(ot+1)},t.targeting),responsive:!0,hierarchy:t.ad_hierarchy,exclusions:t.exclusions};return ot++,g.a.createElement(Ke.a,i)}return null},lt=function(e){var t=e.customcontent;if(t instanceof Array){var a=t[it++];if(a)return g.a.createElement(Ce.a,o()({},a,{key:I()()}))}return null},ut=function(e){var t=e.embeddedcontent;try{if(t instanceof Array&&(t=t[et])&&(et++,rt[t.type]))return t.key=I()(),g.a.createElement(rt[t.type],t)}catch(a){U.a.error("Story - Failed to createEmbed ".concat(t,", error: ").concat(a))}return null},pt=function(e){var t=e.similarlinks instanceof Array?e.similarlinks:null;t||(t=e.intlinks instanceof Array?e.intlinks:null);var a=t?t[tt]:null;return a?ht(a):null},ht=function(e){var t=Object(Je.g)(e);return tt++,g.a.createElement(qe,{flag:e.flag,external:!0,href:e.url,text:t,key:I()()})},dt=function(e){function t(e){var a;c()(this,t);return(a=h()(this,m()(t).call(this,e))).tokens={"[IMAGE]":function(e){return function(e){var t=e.storyimages;if(t instanceof Array){var a=t[Qe++];if(a){if(a.derivatives){var i=a.derivatives.original_620;a.url=i.fileurl?i.fileurl.replace("_620","_780"):"";var r=i.w||1,n=i.h||1;a.aspectRatio=(n/r*100).toFixed(2),a.sizes=Xe,a.sizesRatio="original"}return a.useoriginalimage&&(a.url=a.originalimageurl),g.a.createElement(R.a,o()({},a,{key:I()(),mass:a.size}))}}return null}(e)},"[PHOTOGALLERY]":nt,"[MEDIA]":function(e){return function(e){var t=e.media;try{if(t instanceof Array&&(t=t[Ze++])){var a=""!==t.description?t.description:t.title;if("object"===n()(t.extattrib))return g.a.createElement(A,{isLead:!1,clipID:t.extattrib.guid||"",runtime:t.extattrib.runtime||"",description:a,showcaption:t.showcaption,key:I()()})}}catch(i){U.a.error("Story - Failed to embed media object ".concat(t,", error: ").concat(i))}return null}(e)},"[EMBED]":ut,"[CUSTOM]":lt,"[SIMILAR]":function(e){return pt(e)},blockquote:st},void 0!==e&&"adProps"in e&&(a.tokens["[AD]"]=function(t){return ct(t,e.adProps,e.adIndexArray)}),a}return f()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.adProps.contentId!==e.adProps.contentId&&(this.tokens["[AD]"]=function(t){return ct(t,e.adProps,e.adIndexArray)},!0)}},{key:"getMarkup",value:function(){Ze=0,Qe=0,et=0,tt=0,at=0,it=0,ot=0;var e=new Ve.a,t=!1,a=!1,i=!1;return this.props.json.leadmedia&&(t="media"===this.props.json.leadmedia.type,a="image"===this.props.json.leadmedia.type,i="photogallery"===this.props.json.leadmedia.type),Ze=t?1:0,Qe=a?1:0,at=i?1:0,tt=0,this.tokens.json=this.props.json,this.tokens.createSimilar=pt,this.tokens.isFutureToken=this.isFutureToken,e.getParsedDOM(this.props.body,this.tokens,this.props.adIndexArray)}},{key:"isFutureToken",value:function(e){return Boolean(e.match(/\s*(\[CBC_[A-Z]+\]+)\s*/gm))}},{key:"render",value:function(){var e=U.a.startTimer(),t=this.getMarkup();return e.done({message:"story_parsed",id:this.props.json.id,level:"debug"}),g.a.createElement("div",{className:"story"},t)}}]),t}(g.a.Component);dt.defaultProps={body:"",json:{},adProps:{}},dt.propTypes={body:v.a.string,json:v.a.object,adProps:v.a.object};var mt=Object(k.connect)((function(e){return{json:e.detail.json}}))(dt),wt=a(305);function ft(e){return g.a.createElement("h1",{className:"detailHeadline"},e.text)}ft.propTypes={text:v.a.string.isRequired};var bt=ft;function gt(e){return g.a.createElement("div",{className:"detailSummary"},e.text)}gt.propTypes={text:v.a.string.isRequired};var kt=a(303),yt=a(308),vt=a(301),Nt=a(160),Et=a(25),Ct=a.n(Et),St=a(293);function Tt(e){if(e.author.names.isEmpty())return null;var t,a=(t=e.author,Ct()(t.names,"Missing author.names field"),t.names.map((function(e){return e.url&&e.text?g.a.createElement(_e.a,{url:e.url,external:e.external},e.text):e.text?g.a.createElement("span",null,e.text):null}))).toArray(),i=g.a.Children.toArray(Object(St.c)(a,", "));return g.a.createElement("span",{className:"authorText"},i)}Tt.propTypes={author:v.a.instanceOf(Nt.a)},Tt.defaultProps={author:new Nt.a},Object(St.b)(Tt,(function(e){return!!(e&&e.author instanceof Nt.a)&&!e.author.names.isEmpty()}));var Pt=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"render",value:function(){return this.props.authorList.isEmpty()?null:g.a.createElement("span",{className:"authorText"},g.a.Children.toArray(this.props.authorList.map((function(e){return g.a.createElement(_e.a,{url:e.get("url")},e.get("name"))})).interpose(", ").toArray()))}}]),t}(g.a.PureComponent);function It(){return g.a.createElement("span",{className:"bullet"}," \xb7 ")}It.propTypes={},It.defaultProps={};var xt=It,Bt=a(2),Lt=a.n(Bt),Ft=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"getByline",value:function(){return this.props.href&&this.props.text?g.a.createElement(_e.a,{external:!0,url:this.props.href},this.props.text):this.props.text}},{key:"getAuthorImage",value:function(){return this.props.author&&this.props.author.img?g.a.createElement(vt.a,{src:this.props.author.img,title:this.props.author.title}):null}},{key:"getTimeStamp",value:function(){return this.props.publishedAt?g.a.createElement(yt.a,{updated:this.props.updatedAt,showOriginalPubDate:this.props.showOriginalPubDate,published:this.props.publishedAt,publishedAtVerbal:this.props.publishedAtVerbal}):null}},{key:"getAuthorText",value:function(){return this.props.authorList.isEmpty()?this.props.author?g.a.createElement(Tt,{author:this.props.author}):null:g.a.createElement(Pt,{authorList:this.props.authorList})}},{key:"render",value:function(){var e=Object(St.c)(Object(St.a)(this.getAuthorText(),this.getByline(),this.getTimeStamp()),g.a.createElement(xt,null));return e.length>0?g.a.createElement("div",{className:"byline"},this.getAuthorImage(),g.a.createElement("div",{className:"bylineDetails"},g.a.Children.toArray(e))):null}}]),t}(g.a.Component);Ft.propTypes={updatedAt:v.a.number,publishedAt:v.a.number,showOriginalPubDate:v.a.bool,text:v.a.string,href:v.a.string,author:v.a.instanceOf(Nt.a),authorList:v.a.instanceOf(Bt.List)},Ft.defaultProps={updatedAt:0,publishedAt:0,showOriginalPubDate:!1,text:"",href:"",author:new Nt.a,authorList:new Bt.List};var Dt=Ft,At=a(302),Rt=a(127);function Ot(e){var t=g.a.createElement("svg",{viewBox:"0 0 32 32",focusable:"false"},g.a.createElement("path",{d:"M20.95,17H11a1,1,0,0,0,0,2h10a1,1,0,0,0,0-2Zm2-6H9a1,1,0,0,0,0,2h14a1,1,0,0,0,0-2ZM16,0C7.14,0,0,6.26,0,14a12.55,12.55,0,0,0,6,10.9v7.07l7-4.25a18.71,18.71,0,0,0,3,.25c8.82,0,16-6.25,16-14S24.78,0,16,0Zm0,25.95a16.29,16.29,0,0,1-3.37-.37l-4.7,2.82.06-4.63A11.56,11.56,0,0,1,2,14C2,7.36,8.24,2,16,2s14,5.36,14,12-6.26,12-14,12Zm0,0"})),a=e.storyId.replace(".","");return g.a.createElement("div",{className:"commentCount"},g.a.createElement("button",{className:"commentCount-link",onClick:function(e){return Object(Rt.c)("comments-".concat(a),e,"textarea.vf-content")}},g.a.createElement("div",{className:"commentCount-text-container"},g.a.createElement("div",{className:"viafoura"},g.a.createElement("span",{className:"vf-counter vf-widget","data-widget":"counter","data-path":e.url})),g.a.createElement("div",{className:"commentCount-text"},g.a.createElement("span",null," comments")))),g.a.createElement("span",{className:"commentCount-icon"},t))}Ot.propTypes={url:v.a.string,storyId:v.a.string},Ot.defaultProps={url:"",storyId:""};var jt=a(177),Ht=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this,e))).actionHandler=a.actionHandler.bind(Re()(a)),a.keyPressHandler=a.keyPressHandler.bind(Re()(a)),a}return f()(t,e),u()(t,[{key:"keyPressHandler",value:function(e){13!==e.charCode&&32!==e.charCode||(32===e.charCode&&e.preventDefault(),this.actionHandler())}},{key:"actionHandler",value:function(){this.props.updateId("open",this.props.mediaID,"audio")}},{key:"render",value:function(){var e=B.a.utc(this.props.runtime*F.a),t=e.hours()?F.b.longMediaFormat:F.b.shortMediaFormat,a="episode"===this.props.pageType?" to the full episode":"";return g.a.createElement("div",{className:"audioInfo",onClick:this.actionHandler,onKeyPress:this.keyPressHandler,role:"button",tabIndex:"0"},g.a.createElement("span",{className:"iconLink"},g.a.createElement(Q.a,{type:"play"})),g.a.createElement("span",{className:"audioInfoLink"},"Listen",a),g.a.createElement("span",{className:"runTime"},e.format(t)))}}]),t}(g.a.Component),Mt=Object(k.connect)(null,{updateId:jt.b})(Ht),_t=a(283),Ut={className:"comments",external:!0,url:"https://www.cbc.ca/aboutcbc/discover/submissions.html"},qt=a(298),zt=a(292),Wt=a(783),Vt=a.n(Wt),Gt=function(e){function t(){var e;return c()(this,t),(e=h()(this,m()(t).call(this))).state={authenticated:!1,commentingLoaded:!1},e}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this;zt.a.addOnReadyCallback((function(){e.setState({commentingLoaded:!0}),zt.a.getUserContext().then((function(t){return e.updateAuthState(t)})),zt.a.subscribeUserInfo((function(t){return e.updateAuthState(t)}))}))}},{key:"updateAuthState",value:function(e){var t=zt.a.isUserAuthenticated(e);t!==this.state.authenticated&&this.setState({authenticated:t})}},{key:"getLogInButton",value:function(){return!this.state.authenticated&&this.state.commentingLoaded?g.a.createElement("button",{className:"viafouraLogin",type:"button",onClick:function(e){return zt.a.openProfile(e)}},g.a.createElement("img",{className:"viafouraLogin-image",src:Vt.a,alt:""}),g.a.createElement("span",{className:"viafouraLogin-text"},"LOG IN")):null}},{key:"render",value:function(){return this.getLogInButton()}}]),t}(g.a.Component);function Yt(e){var t=g.a.createElement("span",null,g.a.createElement("span",{className:"vf-counter vf-widget","data-widget":"counter","data-path":e.url}),g.a.createElement("span",null," Comments")),a=e.storyId.replace(".","");return g.a.createElement("div",{className:"comments cbc-vf",id:"comments-".concat(a)},g.a.createElement(qt.Element,{name:"comments-".concat(a)},g.a.createElement(_t.a.H2,null,t),g.a.createElement("p",{className:"commentIntro"},"To encourage thoughtful and respectful conversations, first and last names will appear with each submission to CBC/Radio-Canada's online communities (except in children and youth-oriented communities). Pseudonyms will no longer be permitted."),g.a.createElement("p",{className:"commentIntro"},"By submitting a comment, you accept that CBC has the right to reproduce and publish that comment in whole or in part, in any manner CBC chooses. Please note that CBC does not endorse the opinions expressed in comments. Comments on this story are moderated according to our"," ",g.a.createElement(_e.a,Ut,"Submission Guidelines"),". Comments are welcome while open. We reserve the right to close comments at any time."),g.a.createElement("div",{className:"viafoura"},g.a.createElement("div",{className:"viafoura-buttons"},g.a.createElement(Gt,null)),g.a.createElement("div",{className:"vf-comments vf-widget","data-widget":"comments","data-has-notification-bell":"true","data-path":e.url,"data-limit":e.limit}))))}Yt.propTypes={url:v.a.string,storyId:v.a.string,limit:v.a.number},Yt.defaultProps={url:"",storyId:"",limit:10};var $t=a(304);function Jt(e){var t=function(e){if(void 0!==e.list&&e.list.length)return e.list.map((function(e){return g.a.createElement("li",{className:"highlightListItem",key:I()()},g.a.createElement("span",null,e))}))}(e);return g.a.createElement("div",{className:"highlights sclt-highlights"},g.a.createElement(_t.a.H2,{key:I()()},g.a.createElement("span",null,e.heading)),g.a.createElement("ul",{className:"highlightList",key:I()()},t))}Jt.propTypes={list:v.a.array,heading:v.a.string},Jt.defaultProps={heading:"Latest"};var Kt=Jt,Xt=a(11),Zt=["nonpolopolyURL","link"];function Qt(e){var t=Object(Je.g)(e),a=e.flag,i=!!(e.linkType&&Zt.includes(e.linkType)||!e.jsonurl),o=e.external||i,r=Xt.x(e.url),n=o?e.url:r;return g.a.createElement("li",{className:"relatedListItem"},g.a.createElement(_e.a,{className:"relatedLink",external:o,url:n},g.a.createElement(Me.a,{flag:a,external:o})," ",t))}Qt.propTypes={url:v.a.string.isRequired,title:v.a.string,departments:v.a.array,flag:v.a.string,external:v.a.bool},Qt.defaultProps={external:!1};var ea=Qt;function ta(e){var t=e.links.map((function(e){return g.a.createElement(ea,o()({key:I()()},e))}));return g.a.createElement("div",{className:"relatedLinkBundle"},t)}ta.propTypes={links:v.a.array.isRequired};var aa=ta;function ia(e){var t=e.links.map((function(e){return g.a.createElement(ea,o()({key:I()()},e))}));return g.a.createElement("div",{className:"relatedMedia"},t)}ia.propTypes={links:v.a.array.isRequired};var oa=ia;function ra(e){var t=e.links.map((function(e){return g.a.createElement(ea,o()({key:I()()},e))}));return g.a.createElement("div",{className:"relatedphotogallery"},t)}ra.propTypes={links:v.a.array.isRequired};var na=ra;function sa(e){var t=e.links.map((function(e){return g.a.createElement(ea,o()({key:I()()},e))}));return g.a.createElement("div",{className:"relatedSimilar"},t)}sa.propTypes={links:v.a.array.isRequired};var ca=sa;function la(e){var t=e.links.map((function(e){return g.a.createElement(ea,o()({key:I()()},e))}));return g.a.createElement("div",{className:"relatedStory"},t)}la.propTypes={links:v.a.array.isRequired};var ua=la;function pa(e){var t=e.links.map((function(e){return g.a.createElement(ea,o()({key:I()()},e,{external:!0}))}));return g.a.createElement("div",{className:"relatedExternal"},t)}pa.propTypes={links:v.a.array.isRequired};var ha=pa;function da(e){var t=e.intlinks&&e.intlinks.length>0?g.a.createElement(ua,{links:e.intlinks}):null,a=e.eplinks&&e.eplinks.length>0?g.a.createElement(ua,{links:e.eplinks}):null,i=e.extraMedia&&e.extraMedia.length>0?g.a.createElement(oa,{links:e.extraMedia}):null,o=e.extraPhotogalleries&&e.extraPhotogalleries.length>0?g.a.createElement(na,{links:e.extraPhotogalleries}):null,r=e.similarlinks&&e.similarlinks.length>0?g.a.createElement(ca,{links:e.similarlinks}):null,n=e.linkbundle&&e.linkbundle.length>0?g.a.createElement(aa,{links:e.linkbundle}):null,s=e.extlinks&&e.extlinks.length>0?g.a.createElement(ha,{links:e.extlinks}):null;return g.a.createElement("div",{className:"relatedlinks sclt-relatedlinks"},g.a.createElement(_t.a.H2,null,e.heading),g.a.createElement("ul",{className:"relatedList"},t,a,i,o,r,n,s))}da.propTypes={intlinks:v.a.array,extraMedia:v.a.array,extraPhotogalleries:v.a.array,similarlinks:v.a.array,linkbundle:v.a.array,extlinks:v.a.array,heading:v.a.string},da.defaultProps={heading:"Related Stories"};var ma=da;function wa(e){return e.sourceInfo?g.a.createElement("div",{className:"source"},g.a.createElement("p",null,e.sourceInfo)):null}wa.propTypes={},wa.defaultProps={};var fa=wa,ba=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"processCorrections",value:function(){if(void 0!==this.props.json&&this.props.json.length){var e=this.props.json,t=[];return e.forEach((function(e){t.push(g.a.createElement("li",{className:"correction-item",key:I()()},g.a.createElement("div",{className:"correction-text"},e.correction),g.a.createElement("div",{className:"correction-date"},e.date)))})),t}return null}},{key:"render",value:function(){var e=this.processCorrections();return e?g.a.createElement("div",{className:"corrections"},g.a.createElement("h3",null,"Corrections"),g.a.createElement("ul",{className:"corrections-list"},e)):null}}]),t}(g.a.Component),ga=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"processClarifications",value:function(){if(void 0!==this.props.json&&this.props.json.length){var e=this.props.json,t=[];return e.forEach((function(e){t.push(g.a.createElement("li",{className:"clarification-item",key:I()()},g.a.createElement("div",{className:"clarification-text"},e.clarification),g.a.createElement("div",{className:"clarification-date"},e.date)))})),t}return null}},{key:"render",value:function(){var e=this.processClarifications();return e?g.a.createElement("div",{className:"clarifications"},g.a.createElement("h3",null,"Clarifications"),g.a.createElement("ul",{className:"clarifications-list"},e)):null}}]),t}(g.a.Component),ka=a(299);function ya(e,t){var a={};return void 0!==e&&(a.formName=e),void 0!==t&&(a.referringButtonId=t),{type:ka.a,payload:a}}var va=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this,e))).state={buttonId:""},a.handleClick=a.handleClick.bind(Re()(a)),a}return f()(t,e),u()(t,[{key:"handleClick",value:function(){var e=this.props,t=e.formName;(0,e.updateZendeskForm)(t,this.state.buttonId)}},{key:"componentDidMount",value:function(){this.setState({buttonId:"feedbackButton-"+Math.floor(1e4*Math.random())})}},{key:"render",value:function(){var e=this.props,t=e.buttonText,a=e.classNames,i=this.state.buttonId;return g.a.createElement("button",{className:a+" feedbackButton",onClick:this.handleClick,id:i},t)}}]),t}(g.a.Component);va.defaultProps={classNames:"",buttonText:""};var Na={updateZendeskForm:ya},Ea=Object(k.connect)(null,Na)(va),Ca=a(27);function Sa(e){var t=Ca.a[e.baseSection],a=t?t.contentFeedbackLink:null,i=t?t.connectUrl:null,o=t?t.journalistStandards:null,r=t?t.trustProject:null,n=o&&r?g.a.createElement("span",{className:"separator"},"|"):null;if(!a&&!i&&!o&&!r)return null;var s=E()({bottomSeparator:a||i});return g.a.createElement("div",{className:"contentFeedback"},g.a.createElement("div",{className:s},function(e){if(e)return g.a.createElement(_e.a,{className:"journalistLink",url:e,external:!0},"CBC's Journalistic Standards and Practices");return null}(o),n,function(e,t){if(e){var a=t&&Ca.a[t]?Object(Xt.a)(t):"";if(a)return g.a.createElement(_e.a,{className:"trustProjectLink",url:e,external:!0},"About CBC ",a)}return null}(r,e.baseSection)),g.a.createElement(Ea,{formName:"typoForm",classNames:"reportIssue",buttonText:"Report Typo or Error"}))}Sa.propTypes={baseSection:v.a.string,headline:v.a.string},Sa.defaultProps={baseSection:"",headline:""};var Ta=a(29),Pa=a.n(Ta),Ia=_.d("Client.zendeskApi.requestsURL");function xa(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return Object(q.b)(Ia,t).then((function(e){return e}))}var Ba=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var La={typoForm:{id:360001354433,header:"Report Typo or Error",formTags:["typo-form"],formSpecificFields:[360022771214,360022772193,360028518814],description:{display:!1,defaultText:"A typo report."},subject:{display:!1,defaultText:"Typo report submitted by a user from the CBC website.",appendPageTitle:!0}}},Fa={id:360022791294,type:"text",title:"Website URL",required:!0,labelText:"Website URL"},Da={id:30217537,type:"description",required:!1,labelText:"Description"},Aa={id:30217527,type:"subject",required:!1,labelText:"Subject"},Ra={id:360028575073,type:"numeric",required:!1,labelText:"Content Id"},Oa={360022771214:{id:360022771214,type:"text",required:!0,maxChars:200,labelText:"Enter typo or error as found on page",emptyInputText:"Please enter the typo or error."},360022772193:{id:360022772193,type:"text",required:!0,maxChars:200,labelText:"Enter correction",emptyInputText:"Please enter the correction."},360028518814:{id:360028518814,type:"text",required:!1,maxChars:250,labelText:"Email (optional)",emptyInputText:"Please enter your email.",validation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"===typeof e&&Boolean(e.match(Ba))},invalidInputText:"Please enter valid email."},33727647:{id:33727647,type:"text",required:!1,labelText:"Please leave this input empty.",ariaHidden:!0}};function ja(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Ha(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ja(Object(a),!0).forEach((function(t){j()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ja(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ma=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this,e))).initialState={slideUp:!1,filledFields:{},inputErrorMessage:null,submittedMsg:!1},a.state=a.initialState,a.createTicket=xa,a.formSubmit=a.formSubmit.bind(Re()(a)),a.formClose=a.formClose.bind(Re()(a)),a.onChangeHandler=a.onChangeHandler.bind(Re()(a)),a.honeyCheck=a.honeyCheck.bind(Re()(a)),a.validateFields=a.validateFields.bind(Re()(a)),a.processTicketData=a.processTicketData.bind(Re()(a)),a.showSubmittedMsg=a.showSubmittedMsg.bind(Re()(a)),a}return f()(t,e),u()(t,[{key:"isRendered",value:function(e,t){return null!==e.formData&&null!==t.inputErrorMessage}},{key:"formClose",value:function(e,t){"object"===n()(e)&&e.preventDefault&&e.preventDefault();var a=this.props,i=a.updateZendeskForm,o=a.referringButtonId;o&&!0!==t&&Rt.a.shiftFocusSafely("#"+o),i(null,""),this.setState(this.initialState)}},{key:"honeyCheck",value:function(){if(this.state.filledFields[33727647])return this.setState({filledFields:{},submittedMsg:!0}),"_BREAK_"}},{key:"validateInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(e=e.trim(),t.required&&!e)return"empty";if(e&&t.hasOwnProperty("validation")&&"function"===typeof t.validation){var a=t.validation(e);return a?"valid":"invalid"}return"valid"}},{key:"validateFields",value:function(){var e=this,t=this.props.renderFields,a=this.state.filledFields,i=!0,o={},r=null;if(t.forEach((function(t){var n=e.validateInput(a[t.id],t);"valid"===n?o[t.id]=!1:(i=!1,o[t.id]=n,r=null===r?t.id:r)})),!i)return this.setState({inputErrorMessage:o}),Rt.a.shiftFocusSafely("#field_"+r),"_BREAK_"}},{key:"processTicketData",value:function(e){var t=this.props,a=t.formData,i=t.path,o=t.pageTitle,r=t.polopolyId,n=t.department,s=this.state.filledFields,c=Aa.id,l=Da.id,u=Object.entries(s).filter((function(e){var t=Pa()(e,1)[0];return![c,l].includes(t)})).map((function(e){var t=Pa()(e,2);return{id:t[0],value:t[1]}}));u.push({id:String(Fa.id),value:"www.cbc.ca/"+i}),r&&u.push({id:String(Ra.id),value:r});var p=s[c]?s[c]:a.subject.defaultText;!0===a.subject.appendPageTitle&&(p+=" "+o);var h=[];return a.formTags&&(h=h.concat(a.formTags)),n&&h.push("department_"+n),{request:{requester:{name:"Anonymous Web User"},subject:p,comment:{body:s[l]?s[l]:a.subject.defaultText},tags:h,custom_fields:u,ticket_form_id:a.id}}}},{key:"showSubmittedMsg",value:function(){this.setState({filledFields:{},submittedMsg:!0})}},{key:"formSubmit",value:function(e){var t=this.honeyCheck,a=this.validateFields,i=this.processTicketData,o=this.showSubmittedMsg,r=this.createTicket;e.preventDefault();for(var n,s=[t,a,i,r,o],c=0;c<s.length;c++){if("_BREAK_"===(n=(0,s[c])(n)))break}}},{key:"onChangeHandler",value:function(e,t){var a=this.state.filledFields,i=e.target.value,o="maxChars"in t?t.maxChars:1/0;i.length<=o?this.setState({filledFields:Ha({},a,j()({},t.id,i))}):e.target.value=a[t.id]}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.path,i=this.state.submittedMsg,o=this.isRendered;if(!1===o(e,t)&&!0===o(this.props,this.state)&&(Rt.a.shiftFocusSafely(".feedbackFormField:not(.a11y) .feedbackFormDataEntry"),this.setState({slideUp:!0})),!1===t.submittedMsg&&!0===i&&Rt.a.shiftFocusSafely(".feedbackFormSubmitted p"),e.path!==a&&this.formClose(void 0,!0),e.renderFields!==this.props.renderFields){var r={};this.props.renderFields.forEach((function(e){33727647!==e.id&&e.required&&(r[e.id]=!1)})),this.setState({inputErrorMessage:r})}}},{key:"componentWillUnmount",value:function(){this.formClose(void 0,!0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.renderFields,i=t.formData,o=t.pageTypeClass,r=this.state,n=r.submittedMsg,s=r.inputErrorMessage,c=r.slideUp,l=this.formClose,u=this.formSubmit;return(0,this.isRendered)(this.props,this.state)?g.a.createElement("div",{className:"feedbackForm  ".concat(o," ").concat(c&&"slideUp"),role:"dialog","aria-labelledby":"feedbackFormHeader",onKeyDown:function(e){"Escape"===e.key&&l(e)}},g.a.createElement("h2",{id:"feedbackFormHeader",className:"feedbackFormHeader"},i.header,!1===n&&g.a.createElement("button",{className:"feedbackFormClose","aria-label":"Close form without submitting.",onClick:l,onKeyDown:function(e){"Tab"===e.key&&!0===e.shiftKey&&(e.preventDefault(),Rt.a.shiftFocusSafely(".feedbackFormSubmit"))}},g.a.createElement(Q.a,{type:"close"}))),!1===n?g.a.createElement("form",null,a.map((function(t){var a=t.id in s&&s[t.id];return g.a.createElement(g.a.Fragment,{key:String(t.id)},g.a.createElement("label",{key:"label"+t.id,htmlFor:"field_"+t.id,id:"feedbackFormLabel"+t.id,className:t.ariaHidden?"a11y":null,"aria-hidden":t.ariaHidden?"true":null,tabIndex:t.ariaHidden?"-1":null},t.labelText),g.a.createElement("div",{className:"feedbackFormField ".concat(t.ariaHidden?"a11y":""),"aria-hidden":t.ariaHidden?"true":null,tabIndex:t.ariaHidden?"-1":null},g.a.createElement("input",{key:"input"+t.id,id:"field_"+t.id,type:"text",className:"feedbackFormDataEntry".concat("  ",a?"feedbackFormInputError":""," "),"aria-hidden":t.ariaHidden?"true":null,tabIndex:t.ariaHidden?"-1":null,"aria-labelledby":a?"feedbackFormInputErrorMsg"+t.id:null,onKeyDown:function(e){"Escape"===e.key&&l(e)},onChange:function(a){e.onChangeHandler(a,t)}}),a&&g.a.createElement(Q.a,{type:"exclamation"})),a&&g.a.createElement("p",{id:"feedbackFormInputErrorMsg"+t.id,className:"feedbackFormInputErrorMsg"},g.a.createElement("span",{className:"a11y"},"Error:"," "),"empty"===a?t.emptyInputText:t.invalidInputText))})),g.a.createElement("button",{className:"feedbackFormBtn1  feedbackFormSubmit",onClick:u,onKeyDown:function(e){"Escape"===e.key&&l(e),"Tab"===e.key&&!1===e.shiftKey&&(e.preventDefault(),Rt.a.shiftFocusSafely(".feedbackFormClose"))}},"Submit")):g.a.createElement("div",{className:"feedbackFormSubmitted"},g.a.createElement("p",{tabIndex:-1},"Thank you for your feedback."),g.a.createElement("button",{className:"feedbackFormSubmittedClose feedbackFormBtn1","aria-label":"Close and return to page.",onClick:l,onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),Rt.a.shiftFocusSafely(".feedbackFormSubmitted"))}},"Close"))):null}}]),t}(g.a.Component);Ma.propTypes={},Ma.defaultProps={department:"",pageTitle:"",pageTypeClass:"",path:"",polopolyId:"",referringButtonId:"",formData:null,renderFields:[]};var _a={updateZendeskForm:ya};Ma.displayName="FeedbackForm";var Ua=Object(k.connect)((function(e){var t=e.feedback,a=t.formName,i=t.referringButtonId,o=null,r=[];La[a]&&(r=function(e){var t=e.formSpecificFields.map((function(e){return Oa[e]}));return!0===e.description.display&&t.push(Da),!0===e.subject.display&&t.unshift(Aa),t.unshift(Oa[33727647]),t}(o=La[a]));var n=e.app.path,s=e.app.pageType,c=e.app.title,l="",u="";return e.detail&&e.detail.json&&Array.isArray(e.detail.json.departments)&&(u=e.detail.json.departments.map((function(e){return e.name})).join("-")),e.app.contentId&&(l=e.app.contentId),s&&(s=s[0].toUpperCase()+s.slice(1)),{formData:o,referringButtonId:i,renderFields:r,path:n,pageTypeClass:"feedbackForm"+s,pageTitle:c,department:u,polopolyId:l}}),_a)(Ma),qa=a(307),za=a(767),Wa=a(300),Va=a(422),Ga=a(137),Ya=[300,460,620],$a=["258px"];function Ja(e){var t=e.json&&e.json.bio?e.json.bio:null;if(t&&t.name){if(e.authorProfilePage)return g.a.createElement("div",{className:"authorprofile"},g.a.createElement("div",{className:"authorprofile-container"},Ka(e),g.a.createElement("div",{className:"authorprofile-name-container"},g.a.createElement("p",{className:"authorprofile-name"},t.name),g.a.createElement("p",{className:"authorprofile-title"},t.title),g.a.createElement("p",{className:"authorprofile-biography"},t.biography),Xa(e))));if(t.biography){var a=t.url?g.a.createElement(_e.a,{url:t.url},t.name):g.a.createElement("p",{className:"authorprofile-name"},t.name);return g.a.createElement("div",{className:"authorprofile"},g.a.createElement(_t.a.H2,null,e.heading),g.a.createElement("div",{className:"authorprofile-container"},Ka(e),g.a.createElement("div",{className:"authorprofile-name-container"},a,g.a.createElement("p",{className:"authorprofile-title"},t.title))),g.a.createElement("p",{className:"authorprofile-biography"},t.biography),Xa(e))}}return null}function Ka(e){var t=e.json&&e.json.bio?e.json.bio.photo:null;if(t&&0!==Object.keys(t).length&&t.constructor===Object){var a=Object(Ga.a)(t.derivatives.square_620.fileurl,Ya,"square"),i=Pa()(a,1)[0];return g.a.createElement("div",{className:"authorprofile-image-container"},g.a.createElement(Va.a,{url:t.derivatives.square_620.fileurl,srcSet:i,sizes:$a,type:"author-image",aspectRatio:"100"}))}}function Xa(e){var t=function(e){var t=e.json&&e.json.bio?e.json.bio.authorlinks:null,a=[];if(t&&"object"===n()(t)&&t.length>0)return t.map((function(e){var t=e.url;t.trim()&&e.title.match(/\s*More\s*by\s*this\s*author\s*/gi)&&(t=Object(Nt.c)(e.url)),"link"===e.type&&a.push(g.a.createElement("li",{key:I()(),className:"authorprofile-linkitem"},g.a.createElement(_e.a,{url:t,external:!0,className:"authorprofile-item"},e.title)))})),a}(e);return g.a.createElement("ul",{className:"authorprofile-links",key:I()()},t)}Ja.propTypes={json:v.a.object.isRequired,heading:v.a.string,authorProfilePage:v.a.bool},Ja.defaultProps={json:{},heading:"About the Author",authorProfilePage:!1};var Za=Ja,Qa=a(297),ei=a(776),ti=a(53),ai=a(780),ii=a(769);function oi(e){var t=e.pageData.short.authorProfile,a=Object(Je.l)(Object(Bt.fromJS)(e.pageData.short.authorStories)),i={baseSection:e.pageData.baseSection,subSection:e.pageData.subSection,path:e.pageData.path,content:a,hasFeature:!1,customDensity:ai.a,showRegion:!1,showDisplaySelector:!1,isShow:!1,viewport:e.pageData.viewport,showNotifications:!1,listHeading:"Latest from ".concat(t.bio.name),className:"showContent",hasSidebar:!1,loadMore:!1},o=E()("authorProfilePage","pageContentWrap",e.pageData.viewport),r=E()("contentArea","show");return g.a.createElement("div",{className:o},g.a.createElement("div",{className:"contentAreaWrap showContent"},g.a.createElement("div",{className:r},g.a.createElement(Za,{json:t,authorProfilePage:!0}),g.a.createElement(ii.a,i)),g.a.createElement("div",{className:"sidebar"},g.a.createElement(Ke.a,{type:"bigbox",responsive:!0,hierarchy:e.pageData.ad_hierarchy,targeting:{plc:"right"}}))))}oi.propTypes={pageData:v.a.object.isRequired},oi.defaultProps={pageData:{baseSection:"",subSection:"",path:"",viewport:"",ad_hierarchy:"",short:{authorProfile:null,authorStories:null}}};var ri=oi,ni=function(e,t){var a=new IntersectionObserver((function(i){i.forEach((function(i){i.isIntersecting&&(a.unobserve(e),t())}))}));a.observe(e);var i=function(){a.unobserve(e),i=function(){}};return i},si=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this,e))).state={display:!1},a.release=function(){},a.display=a.display.bind(Re()(a)),a.setRef=a.setRef.bind(Re()(a)),a}return f()(t,e),u()(t,[{key:"display",value:function(){this.setState({display:!0},this.props.callback)}},{key:"setRef",value:function(e){this.release(),e&&(this.state.display||("IntersectionObserver"in window?this.release=ni(e,this.display):this.display()))}},{key:"componentWillUnmount",value:function(){this.release()}},{key:"render",value:function(){return this.state.display?this.props.children?this.props.children:null:g.a.createElement("div",{ref:this.setRef,className:"lazy-load"})}}]),t}(b.PureComponent),ci=a(54),li=a(73),ui=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),t}(a.n(li)()(Error)),pi=new ui("Failed to trackEvent READ"),hi=new ui("Failed to turn on ReadJS"),di=new ui("Failed to turn off ReadJS"),mi={cms:"polopoly"},wi={el:".story",spa:!0,strict:!1,thresholds:{domNode:100,domPolling:100,maxTimeInView:20,minTimeInView:3,readingPoint:400,scrollDepth:30,viewport:15},activity:{scrollDepth:30,increment:100,averageReadSpeed:5},debug:{overlay:!1,console:!1},timeInterval:1.5},fi=function(e,t){return window.readJSConfig=Object.assign({cb:function(){!function(e){e=Object.assign({},mi,e);try{window.CBC.APP.SC.EventTracker.trackEvent("READ",{content:e})}catch(t){ci.a.send(pi)}}(e),"function"===typeof t&&t()}},wi),a.e(49).then(a.t.bind(null,824,7)).then((function(){if(!window.readJS.turnOn())throw hi}))},bi=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e,t,a,i,o;fi((e=this.props.url,t=this.props.type,a=this.props.id,i=this.props.headline,o=this.props.pubdate,{url:e,type:t,id:a,title:i,pubdate:o}),this.props.onRead).catch((function(e){return ci.a.send(hi)}))}},{key:"componentWillUnmount",value:function(){!function(){try{window.readJS.turnOff()}catch(e){ci.a.send(di)}}()}},{key:"render",value:function(){return this.props.children}}]),t}(b.PureComponent),gi=(a(784),new Bt.Map({live:!0,"live blog":!0,"live chat":!0,"coming up":!0})),ki=function(e){return String(gi.has(e.toLowerCase()))},yi=function(e){if("breaking"===e.toLowerCase())return String(!0)},vi=function(e){return!!e&&("sponsored content"===e.toLowerCase()?String(!0):void 0)},Ni=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"render",value:function(){var e,t=0===(e=this.props.departments).size?"":"/".concat(e.map((function(e){return encodeURIComponent(e.get("name"))})).join("/")),a=this.props.departments.isEmpty()?"":this.props.departments.last().get("label");return g.a.createElement("span",{className:"detail-link-label sclt-storySectionLink"},vi(this.props.label)?g.a.createElement("span",{className:"sponsored-content"},this.props.label):null,g.a.createElement(_e.a,{url:t,external:!1},a),function(e,t){return!t||vi(t)||e.toLowerCase()===t.toLowerCase()?null:g.a.createElement("span",null,g.a.createElement("span",null,"\xb7"),g.a.createElement("span",{"data-live":ki(t),"data-breaking":yi(t)},t))}(a,this.props.label))}}]),t}(g.a.PureComponent),Ei=a(768),Ci=a(782),Si=_.c("Client.contentApi.contentList.tagged"),Ti=function(e){var t=Object.keys(Si).find((function(t){return e.find((function(e){return e.get("name").includes(t)}))}));return{slug:Si[t],tag:t}},Pi=a(145),Ii=a(284),xi=a(128),Bi=a(76),Li=Object(Bt.List)(),Fi=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"fetch",value:function(){try{var e=Ti(this.props.subject),a=e.slug,i=e.tag;a&&i&&this.props.dispatch(Object(xi.b)(a,t.SECTION_IDENTIFIER,4))}catch(o){U.a.error("TaggedStories: Failed to fetch_sectional_content_identifier with error: ".concat(o))}}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"componentDidUpdate",value:function(e){this.props.subject&&!this.props.subject.equals(e.subject)&&this.fetch()}},{key:"render",value:function(){return!this.props.tag||this.props.contentList.isEmpty()?null:g.a.createElement("div",{className:t.SECTION_IDENTIFIER},g.a.createElement(_t.a.H2,null,this.props.tag),g.a.createElement(Pi.a,{items:this.props.contentList,displayPolicy:new Ii.a,trackingSection:t.SECTION_IDENTIFIER,loadMore:!1,displayType:Bi.a.DISPLAY_FOUR_RIGHT_BORDER,contentListClasses:"hideContentBottom"}))}}]),t}(b.PureComponent);j()(Fi,"defaultProps",{subject:Li,contentList:Li,tag:"",dispatch:function(){}}),j()(Fi,"SECTION_IDENTIFIER","taggedStories");var Di=Object(k.connect)((function(e,t){var a="",i=Li;try{a=Ti(t.subject),i=e.sectionalContent[Fi.SECTION_IDENTIFIER]&&e.sectionalContent[Fi.SECTION_IDENTIFIER].sectionList||Li}catch(o){U.a.error("TaggedStories: Failed to mapStateToProps with error: ".concat(o))}return{contentList:i,tag:a.tag}}))(Fi),Ai=a(239),Ri=a(105),Oi=a(193),ji=a(286),Hi=a(770),Mi=a(199),_i=a(771),Ui=a(157);function qi(e){var t=g.a.createElement("span",{className:"sponsorAboutLogo"},g.a.createElement("img",{src:e.logo,alt:e.name}));t=e.enableLink?g.a.createElement(_e.a,{url:e.url,external:e.external,className:"sponsorLink",target:"_blank"},t):t;var a=g.a.createElement("p",null);return!e.description||e.description.isEmpty&&e.description.isEmpty()?null:(a=g.a.createElement("p",null,e.description),g.a.createElement("div",{className:"sponsorAboutBox"},t,g.a.createElement("h2",null,"About the Advertiser"),g.a.createElement("div",null,a)))}qi.propTypes={external:v.a.bool.isRequired,name:v.a.string,description:v.a.string,url:v.a.string.isRequired,logo:v.a.string.isRequired,enableLink:v.a.bool},qi.defaultProps={external:!1,name:"A Sponsor",description:"",url:"",logo:"",enableLink:!1};var zi=qi;a.d(t,"default",(function(){return $i})),a.d(t,"Detail",(function(){return Wi})),a.d(t,"DetailNoDate",(function(){return Ji})),a.d(t,"displayName",(function(){return Gi}));var Wi=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this,e))).metaTagList=[],a.uniqueID="",a.hasBanner=!1,a}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){S.a.initPageLoad(this.props.baseSection),this.props.match.params.contentId!==this.props.contentId&&this.props.fetchData(this.props.match.url,this.props.match.params),this.props.meta&&this.props.meta.get("vf:unique_id")&&zt.a.reset()}},{key:"componentDidUpdate",value:function(e){S.a.initPageLoad(this.props.baseSection),Object(ji.c)(e.match.params,this.props.match.params)&&this.props.fetchData(this.props.match.url,this.props.match.params);var t=e.meta&&e.meta.get("vf:unique_id"),a=this.props.meta&&this.props.meta.get("vf:unique_id");a&&t!==a&&zt.a.reset()}},{key:"image",value:function(){var e=this.props.image;return e.isEmpty()?null:g.a.createElement(R.a,e.toJS())}},{key:"gallery",value:function(){var e=this.props.gallery;return e.isEmpty()?null:g.a.createElement(be,{enableThumbnails:!1,leadmedia:e.leadmedia,photogalleryID:e.id})}},{key:"video",value:function(){var e=this.props.media,t="media"===this.props.short.type?this.commentCount():null;return e.isEmpty()?null:g.a.createElement("span",null,g.a.createElement(A,e.toJS()),t)}},{key:"media",value:function(){try{var e=this.video()||this.gallery()||this.image();return e||null}catch(t){U.a.error("Detail - Failed to embed media in ".concat(this.props.url," with error: ").concat(t))}return null}},{key:"audioInfo",value:function(){try{var e=this.props.audio;if(!e.isEmpty())return e=Object.assign({},e.toJS(),{pageType:this.props.short.type}),g.a.createElement(Mt,e)}catch(t){U.a.error("Detail - Failed to embed AudioInfo in ".concat(this.props.url," with error: ").concat(t))}}},{key:"commentCount",value:function(){if(this.props.short.displayComments)return g.a.createElement(Ot,{url:this.props.short.url,storyId:this.props.short.id})}},{key:"storyHighlight",value:function(){var e=this.props.short.highlights;if(e&&e.highlight&&e.highlight.length>0)return g.a.createElement(Kt,{list:e.highlight})}},{key:"getRelatedSegments",value:function(){var e=void 0!==this.props.short.segments&&this.props.short.segments.length?this.props.short.segments:null;if(e)return g.a.createElement(ma,{intlinks:e,eplinks:this.relatedEpisode(),heading:"More from this episode"})}},{key:"relatedEpisode",value:function(){if("segment"===this.props.short.type){var e=this.props.short.episode;if(e){var t=Object.assign({},e);return t.title="FULL EPISODE: "+t.title,[t]}}}},{key:"getRelatedExternalLinks",value:function(){var e=void 0!==this.props.short.extlinks&&this.props.short.extlinks.length?this.props.short.extlinks:null;if(e)return g.a.createElement(ma,{extlinks:e,heading:"External Links"})}},{key:"getAuthorProfile",value:function(){var e=this.props.short.authorProfile;if("object"===n()(e)&&"bioandphoto"===e.authorbio)return g.a.createElement(Za,{json:e})}},{key:"getBigbox",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return g.a.createElement(Ke.a,{type:"bigbox-fixed",targeting:{type:"ocelot",contentId:e,rmtype:"bigboxfixed",subject:this.props.short.concatSubjects(),plc:t},responsive:!0,lazy:a,hierarchy:this.props.ad_hierarchy,exclusions:this.props.short.adExclusions})}},{key:"getBody",value:function(){var e,t,a=this.props.short,i=a,o={pageType:this.props.pageType,pagePath:this.props.path,pageSection:this.props.baseSection,contentId:this.props.contentId,ad_hierarchy:this.props.ad_hierarchy,exclusions:this.props.short.adExclusions,targeting:{subject:this.props.short.concatSubjects()}};return e=g.a.createElement(mt,{body:i.body,adProps:o,adIndexArray:"undefined"!==typeof window&&window.innerWidth<=1330?Qa.a:null}),g.a.createElement(bi,{url:a.url,type:a.type,id:a.id,headline:a.headline,pubdate:a.publishedAt,onRead:t},e)}},{key:"story",value:function(){var e=this.props.short;return Qa.c.includes(e.type)?g.a.createElement("div",{className:"storyWrapper"},this.media(),this.commentCount(),this.audioInfo(),this.storyHighlight(),this.getBody()):null}},{key:"getNewsletterWidget",value:function(){if(this.props.short.newsletters&&"false"!==this.props.short.newsletters)return g.a.createElement($t.a,{promotenewsletter:this.props.short.newsletters})}},{key:"renderAuthorProfilePage",value:function(){return g.a.createElement(ri,{pageData:this.props})}},{key:"blankPage",value:function(){return g.a.createElement("div",null,g.a.createElement("span",null,"This is a blank page"))}},{key:"getSharing",value:function(){if(!this.props.short.isPreview&&!this.props.fixed.isWebView)return g.a.createElement(qa.a,{viewport:this.props.viewport,path:this.props.meta.canonical,key:this.props.short.id})}},{key:"getTrendingList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isSidebar:!1},t=null;return!this.props.short.isPreview&&Ca.a[this.props.baseSection]?(t=e.isSidebar?g.a.createElement(T.c,{section:this.props.baseSection}):g.a.createElement(T.a,{section:this.props.baseSection}),g.a.createElement(si,null,t)):t}},{key:"isSponsoredContent",value:function(){return"sponsoredcontent"===this.props.short.type}},{key:"getSectionSponsors",value:function(){var e=this.props.rightrail&&Object(Ai.c)(this.props.rightrail.widgets,Ri.d,this.props.section);if(e&&!this.isSponsoredContent()){var t=[];return e.map((function(e,a){t.push(g.a.createElement(Wa.a,{key:a,sponsorContent:e}))})),t}}},{key:"getRelatedLinks",value:function(){if(this.props.short.intlinks.length>0){var e={intlinks:this.props.short.intlinks};return g.a.createElement(ma,e)}}},{key:"getSponsorBio",value:function(){if(this.props.short.sponsorBio){var e={external:!0,name:this.props.short.sponsorBio.name,url:this.props.short.sponsorBio.link,label:Object(ti.a)(this.props.short.sponsorBio.label),logo:this.props.short.sponsorBio.logo&&this.props.short.sponsorBio.logo.derivatives.original_300.fileurl,enableLink:Boolean(this.props.short.sponsorBio.link)};return g.a.createElement(At.a,e)}}},{key:"getSponsorAbout",value:function(){if(this.props.short.sponsorBio){var e={external:!0,name:this.props.short.sponsorBio.name,description:this.props.short.sponsorBio.description,url:this.props.short.sponsorBio.link,logo:this.props.short.sponsorBio.logo&&this.props.short.sponsorBio.logo.derivatives.original_620.fileurl,enableLink:Boolean(this.props.short.sponsorBio.link)};return g.a.createElement(zi,e)}}},{key:"getByline",value:function(){var e=this.props.short,t=e.sponsorBio,a=e.byline,i=e.byline_href,o=e.updatedAt,r=e.publishedAt,n=e.publishedAtVerbal;return Object(ti.d)(t.label)?null:g.a.createElement(Dt,{text:a,href:i,updatedAt:o,publishedAt:r,publishedAtVerbal:n,showOriginalPubDate:!0,author:this.props.author,authorList:this.props.short.authorList})}},{key:"getMetaLabel",value:function(){return Object(ti.c)(this.props.short.sponsorBio)?this.getSponsorBio():g.a.createElement(Ni,{departments:this.props.short.departments,label:this.props.short.flag})}},{key:"getCommentsAndAd",value:function(){var e=this.props.short,t=this.props.contentId;return e&&e.displayComments?g.a.createElement("div",{className:"commentsWrapper"},g.a.createElement("div",{className:"detailMainCol"},this.getComments()),g.a.createElement("div",{className:"detailSideRail"},g.a.createElement("div",{className:"stickyContainer stickyRailAd"},this.getBigbox(t,"comments",!0)))):null}},{key:"getComments",value:function(){var e=this.props.short;return g.a.createElement(Yt,{url:e.url,storyId:e.id,limit:3})}},{key:"getRecommendations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isSidebar:!1},t={title:"Recommended for you"};return e.isSidebar&&(t.layout="vertical"),g.a.createElement(si,null,g.a.createElement(Ci.a,t))}},{key:"getMoreStoriesFromCBC",value:function(){return g.a.createElement(si,null,g.a.createElement(wt.a,null))}},{key:"getDiscoveryComponents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa.b,t={trending:this.getTrendingList({isSidebar:!0}),recommendations:this.getRecommendations(),comments:this.getCommentsAndAd(),discoverMore:this.getMoreStoriesFromCBC()};if(!e||!e.length)return null;var a=[];return e.forEach((function(e){var i=t[e];i&&a.push(i)})),g.a.createElement("div",{className:"detailDiscovery"},g.a.Children.toArray(a))}},{key:"render",value:function(){var e=this.props.short,t=this.props.contentId,a=void 0!==e.source?g.a.createElement(fa,{sourceInfo:e.source}):null,i=e.corrections.length>0?g.a.createElement(ba,{json:e.corrections}):null,r=e.clarifications.length>0?g.a.createElement(ga,{json:e.clarifications}):null,n=this.props.baseSection?Ca.a[this.props.baseSection]:null,s=n&&n.defaultNotifications?n.defaultNotifications:null,c={notificationList:s=new Lt.a.List(s),path:this.props.path,viewport:this.props.viewport,pageType:this.props.pageType,baseSection:this.props.baseSection,subSection:this.props.subSection},l=s&&s.size?g.a.createElement(za.b,c):null,u=E()("detail","detailBody",{hasBanner:this.hasBanner,hasNotification:l},this.props.abtest>0?"sclt-abtest-a-gJcfH7vrco":""),p={__html:JSON.stringify({"@context":"http://schema.org/","@type":"WebPage",speakable:{"@type":"SpeakableSpecification",cssSelector:[".detailHeadline",".detailSummary"]}})},h=Object(ei.b)(this.props),d=Object(Mi.b)(this.props);if("authorbio"===e.type)return this.renderAuthorProfilePage();var m=this.props.abtest>0?{onClick:Object(Ei.a)(".moreStories a, .trendingListItem a")}:{};return g.a.createElement(_i.a,{statusCode:this.props.statusCode},g.a.createElement("div",o()({className:u},m),h,g.a.createElement("div",{ref:this.props.section}),l,g.a.createElement("div",{className:"detailBodyContainer"},g.a.createElement("div",{className:"detailMainCol sclt-storycontent"},this.getMetaLabel(),g.a.createElement(bt,{text:e.headline}),g.a.createElement(gt,{text:e.summary}),this.getSharing(),g.a.createElement(kt.a,{text:e.deck}),this.getByline(),!Object(ti.c)(this.props.short.sponsorBio)&&this.getSponsorBio(),this.story()||this.media(),this.getRelatedSegments(),r,i,this.getAuthorProfile(),a,g.a.createElement(Sa,{headline:e.headline,baseSection:this.props.baseSection}),this.getRelatedLinks(),this.getRelatedExternalLinks(),this.getNewsletterWidget(),this.getSectionSponsors(),this.getSponsorAbout()),g.a.createElement("div",{className:"detailSideRail"},g.a.createElement("div",{className:"stickyContainer stickyRailAd"},this.getBigbox(t,"right")),g.a.createElement("div",{className:"stickyContainer"},this.getDiscoveryComponents(Qa.d))),g.a.createElement(si,null,g.a.createElement(Di,{subject:e.subject})),this.getDiscoveryComponents(Qa.b),g.a.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:p})),g.a.createElement(Ua,null),g.a.createElement(Hi.a,{dtmData:d,type:Ui.b})))}}]),t}(g.a.Component);Wi.defaultProps={short:new C.g,media:new C.d,image:new C.c,gallery:new C.b,author:new Nt.a,audio:new C.a,baseSection:"",section:"",dispatch:function(){},ad_hierarchy:"",meta:null,fixed:{}},Wi.propTypes={short:v.a.instanceOf(C.g),media:v.a.instanceOf(C.d),image:v.a.instanceOf(C.c),gallery:v.a.instanceOf(C.b),author:v.a.instanceOf(Nt.a),audio:v.a.instanceOf(C.a),baseSection:v.a.string,section:v.a.string,dispatch:v.a.func,ad_hierarchy:v.a.string,pageType:v.a.string,path:v.a.string,meta:v.a.object,fixed:v.a.object};var Vi=function(e){return{statusCode:Object(ji.b)(e.app.statusCode,e.errors.list),short:e.detail.short,media:e.detail.media,image:e.detail.image,gallery:e.detail.gallery,author:e.detail.author,audio:e.detail.audio,baseSection:e.app.baseSection,section:e.app.section,ad_hierarchy:e.app.ad_hierarchy,contentId:e.app.contentId,pageType:e.app.pageType,path:e.app.path,meta:e.app.meta,rightrail:e.rightRail}},Gi=Wi.displayName="DETAIL",Yi=function(e){return{fetchData:function(t,a){return e(Object(Oi.a)(t,a))}}},$i=Object(k.connect)(Vi,Yi)(Wi),Ji=Object(k.connect)((function(e){var t=Vi(e);return t.short=t.short.set("publishedAt",0),t}),Yi)(Wi);[$i,Wi,Ji].map((function(e){return e.displayName=Wi.displayName}))},767:function(e,t,a){"use strict";var i=a(12),o=a.n(i),r=a(4),n=a.n(r),s=a(8),c=a.n(s),l=a(5),u=a.n(l),p=a(6),h=a.n(p),d=a(7),m=a.n(d),w=a(0),f=a.n(w),b=a(1),g=a.n(b),k=a(176),y=a(3),v=a.n(y),N=a(62),E=a(2),C=a(238),S=403747,T=114093987254,P=114093985294,I=114093987053,x=114094004454,B=a(768),L=a(127),F=a(43),D=function(e){function t(){return n()(this,t),u()(this,h()(t).apply(this,arguments))}return m()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.removeWidgetEmbed(),this.initializeWidget()}},{key:"componentWillUnmount",value:function(){this.removeWidgetEmbed()}},{key:"initializeWidget",value:function(){window&&window.zEmbed||function(){var e,t,a,i,o=[],r=document.createElement("iframe");window.zEmbed=function(){o.push(arguments)},window.zE=window.zE||window.zEmbed,r.class="zendeskcbcwidget",r.id="zendeskcbcwidgetCustomID",r.src="javascript:false",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="display: none",(a=(a=document.getElementsByTagName("script"))[a.length-1]).parentNode.insertBefore(r,a),i=r.contentWindow.document;try{t=i}catch(n){e=document.domain,r.src='javascript:let d=document.open();d.domain="'.concat(e,'"'),t=i}t.open()._l=function(){var t=this.createElement("script");e&&(this.domain=e),t.id="js-iframe-async",t.src="https://assets.zendesk.com/embeddable_framework/main.js",this.t=+Number(new Date),this.zendeskHost="cbchelp.zendesk.com",this.zEQueue=o,this.body.appendChild(t)},t.write('<body onload="document._l();">'),t.close()}(),window.zESettings={webWidget:{contactForm:{ticketForms:[{id:this.getSectionFormID()}]},position:{horizontal:"right",vertical:"bottom"},helpCenter:{suppress:!0}}}}},{key:"getSectionFormID",value:function(){return this.props.pageType===F.b.DETAIL&&this.props.subSection.match("canada")?I:this.props.pageType===F.b.LANDING&&this.props.subSection.match("canada")?P:this.props.baseSection.match("news")?T:"mycbc"===this.props.baseSection?x:S}},{key:"getFeedbackButton",value:function(e){var t={id:"zen-feedback-button","data-decision":e,className:"zenFeedbackButton",onClick:function(){if(window&&window.zE)try{window.zE.activate({hideOnClose:!0})}catch(e){console.log("Zendesk window.zE.activate() doesn't exist.")}}};return f.a.createElement("button",t,"Tell us what you think")}},{key:"removeWidgetEmbed",value:function(){if("undefined"!==typeof window&&(delete window.zEmbed,delete window.zE,delete window.zESettings),"undefined"!==typeof document){var e=document.getElementById("zendeskcbcwidgetCustomID"),t=document.getElementById("automaticAnswers"),a=document.getElementById("launcher"),i=document.getElementById("ipm"),o=document.getElementById("webWidget");L.a.remove(e),L.a.remove(t&&t.parentNode),L.a.remove(a&&a.parentNode),L.a.remove(i&&i.parentNode),L.a.remove(o&&o.parentNode)}}},{key:"render",value:function(){return f.a.createElement("div",{className:"zendeskWidget"},f.a.createElement(B.b,null,this.getFeedbackButton("A"),this.getFeedbackButton("B")))}}]),t}(f.a.Component);D.propTypes={pageType:g.a.string,baseSection:g.a.string,subSection:g.a.string,runGlobally:g.a.bool},D.defaultProps={pageType:"",baseSection:"",subSection:"",runGlobally:!0};var A=a(21),R=function(e){function t(e){var a;return n()(this,t),(a=u()(this,h()(t).call(this,e))).state={visible:!0},a}return m()(t,e),c()(t,[{key:"hideNotification",value:function(){this.setState({visible:!1});var e=this.props.dismissedNotifications?this.props.dismissedNotifications:[];e=e.push(this.props.name),this.props.dispatch(Object(N.c)(e))}},{key:"getContent",value:function(){return void 0!==this.props.children?this.props.children:(new k.a).getParsedDOM(this.props.html)}},{key:"renderDismissButton",value:function(){var e={className:"closeButton","aria-label":"close notification","aria-hidden":!this.state.visible};if(this.props.dismissable)return f.a.createElement("button",o()({},e,{onClick:this.hideNotification.bind(this)}),"X")}},{key:"renderButtonTour",value:function(){return this.props.button&&this.props.button.includes("onboarding")?Object(C.a)(this.props.path,this.props.viewport):null}},{key:"renderButtonFeedback",value:function(){if(this.props.button){var e=null,t=!0,a=!1,i=void 0;try{for(var o,r=this.props.button[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var n=o.value;if("feedback"===n||"section-feedback"===n){e=n;break}}}catch(c){a=!0,i=c}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}if(null!==e){var s={pageType:this.props.pageType,baseSection:this.props.baseSection,subSection:this.props.subSection,runGlobally:"feedback"===e};return f.a.createElement(D,s)}}return null}},{key:"render",value:function(){var e=v()("banner",this.props.type,{dismissed:!this.state.visible});return f.a.createElement("div",{className:e},this.getContent(),this.renderButtonFeedback(),this.renderButtonTour(),this.renderDismissButton())}}]),t}(w.PureComponent);R.propTypes={name:g.a.oneOf(["noNetwork","noContent","noRegionalContent","graphicContent","welcomeBanner","listenPromo","search","invalidContentRequest","welcomeToNewsBanner","welcomeToRadioBanner","welcomeToMusicBanner"]).isRequired,html:g.a.string,type:g.a.string,dismissable:g.a.bool,clickHandler:g.a.func,dismissedNotifications:g.a.instanceOf(E.List),button:g.a.instanceOf(E.List),path:g.a.string,viewport:g.a.string,pageType:g.a.string,baseSection:g.a.string,subSection:g.a.string},R.defaultProps={name:"welcomeBanner",html:"",type:"info",dismissable:!1,clickHandler:function(){},dismissedNotifications:null,button:null,path:"",viewport:"viewportLarge",pageType:"",baseSection:"",subSection:""};var O=Object(A.connect)()(R),j=a(283),H=[{name:"noNetwork",html:"There's no network connection. We can't fetch new stories, sorry!",type:"error",dismissable:!0},{name:"noContent",html:"Something's gone wrong. We can't load any content right now. Reloading this page might solve this problem, or please try again later.",type:"error",dismissable:!1},{name:"cachedContent",html:"We can't load the most up-to-date content right now. Please try reloading this page, or try again later.",type:"error",dismissable:!1},{name:"noRegionalContent",html:"We can't load your local news on this page right now.  Reloading this page might solve this problem.",type:"error",dismissable:!1},{name:"graphicContent",html:"This story contains scenes that some readers may find disturbing.",type:"warning",dismissable:!0},{name:"welcomeBanner",html:'<a href="https://responsive.cbc.ca/hc/en-us/sections/207478947-About-the-CBC-ca-Redesign" aria-label="Learn why this website is different" id="learnMoreLink">Learn more about the new look</a>.',type:"notice",button:["onboarding","feedback"],dismissable:!1},{name:"welcomeToNewsBanner",html:'<a href="https://responsive.cbc.ca/hc/en-us/sections/207478947-About-the-CBC-ca-Redesign" aria-label="Learn why this website is different" id="learnMoreLink">Learn more about the new look</a>.',type:"notice",button:["onboarding","feedback"],dismissable:!1},{name:"welcomeToRadioBanner",html:'<a href="https://responsive.cbc.ca/hc/en-us/sections/207478947-About-the-CBC-ca-Redesign" aria-label="Learn why this website is different" id="learnMoreLink">Learn more about the new look</a>.',type:"notice",button:["onboarding","feedback"],dismissable:!1},{name:"welcomeToMusicBanner",html:'<a href="https://www.cbc.ca/listen">Listen Live to CBC Music</a>.',type:"notice",button:["onboarding","feedback"],dismissable:!1},{name:"listenPromo",html:'For full episodes, visit <a href="https://www.cbc.ca/listen/" className="showBannerLink">CBC Listen</a>.',type:"info",dismissable:!1},{name:"invalidContentRequest",html:"Sorry, we cannot find the content you have requested.  Please try selecting a different section of the site in our menu.",type:"error",dismissable:!1}],M=a(44),_=a.n(M);a.d(t,"a",(function(){return U}));var U=function(e){function t(){return n()(this,t),u()(this,h()(t).apply(this,arguments))}return m()(t,e),c()(t,[{key:"shouldComponentUpdate",value:function(e){return e.path!==this.props.path||!e.notificationList.equals(this.props.notificationList)}},{key:"getNotificationFromConfig",value:function(e){var t=Object(E.fromJS)(H),a=null;return t.map((function(t){t.get("name")===e&&(a=t)})),a}},{key:"getNotifications",value:function(){var e=[];if(this.props.notificationList){var t=!0,a=!1,i=void 0;try{for(var r,n=this.props.notificationList[Symbol.iterator]();!(t=(r=n.next()).done);t=!0){var s=r.value,c=this.getNotificationFromConfig(s),l=this.props.dismissedNotifications&&this.props.dismissedNotifications.includes(s);if(c&&!l){var u={name:c.get("name"),type:c.get("type"),dismissable:c.get("dismissable"),html:c.get("html"),dismissedNotifications:this.props.dismissedNotifications,button:c.get("button"),path:this.props.path,viewport:this.props.viewport,pageType:this.props.pageType,baseSection:this.props.baseSection,subSection:this.props.subSection},p=f.a.createElement(O,o()({key:_()()},u));e.push(p)}}}catch(h){a=!0,i=h}finally{try{t||null==n.return||n.return()}finally{if(a)throw i}}}return e}},{key:"render",value:function(){var e=this.props.notificationList&&this.props.notificationList.size?f.a.createElement(j.a.H2,{className:"a11y"},"Notifications"):null;return f.a.createElement("div",{className:"notificationArea"},e,this.getNotifications())}}]),t}(f.a.Component);U.propTypes={notificationList:g.a.instanceOf(E.List),dismissedNotifications:g.a.instanceOf(E.List),path:g.a.string,pageType:g.a.string,baseSection:g.a.string,subSection:g.a.string},U.defaultProps={notificationList:Object(E.List)(["welcomeBanner"]),dismissedNotifications:null,path:"",pageType:"",baseSection:"",subSection:""};t.b=Object(A.connect)((function(e){return{dismissedNotifications:e.notifications.dismissed}}))(U)},768:function(e,t,a){"use strict";var i=a(12),o=a.n(i),r=a(40),n=a.n(r),s=a(4),c=a.n(s),l=a(8),u=a.n(l),p=a(5),h=a.n(p),d=a(6),m=a.n(d),w=a(7),f=a.n(w),b=a(0),g=a.n(b),k=a(54),y=a(290),v=a(18),N=a.n(v),E=a(73),C=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return f()(t,e),t}(a.n(E)()(Error)),S=(new C("Failed to sendReadArticleGoal"),new C("Failed to send goal")),T=new C("Failed to send goal status not 200"),P=new C("Failed in selecting item goal"),I=function(e){200!==e.status&&k.a.send(T)},x=function(e){try{window.CBC.APP.AB.Testing.sendGoal(e,1,I)||k.a.send(S)}catch(t){k.a.send(S)}},B=function(e){return function(t){try{t.target.closest(e)&&x("api-selected-item")}catch(a){k.a.send(P)}}},L=a(2),F=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this,e))).interval=null,a.onInterval=a.onInterval.bind(n()(a)),a}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.onInterval,100),this.intervalList=this.props.intervalList}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"onInterval",value:function(){var e=document.querySelector(".vf-comments[data-engage]");if(e){var t=parseInt(e.getAttribute("data-engage"));t<=0||(this.intervalList=this.intervalList.filter((function(e,a){return!(e<=t)||(x("api-read-comment"),!1)})),this.intervalList.isEmpty()&&clearInterval(this.interval))}}},{key:"render",value:function(){return null}}]),t}(b.PureComponent);N()(F,"defaultProps",{intervalList:Object(L.List)([3e3])});var D=a(1),A=a.n(D);a.d(t,"b",(function(){return H})),a.d(t,"a",(function(){return B}));var R=function(e){window&&(window.MPULSE_ABTEST=e)},O=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this,e))).state={decision:null,agent:e.agent,getDecision:function(){},error:""},a.abort=!1,a}return f()(t,e),u()(t,[{key:"getDecision",value:function(e){if(e){var t=this;Object(y.a)(e).then((function(a){t.abort||(t.setState({decision:a}),R("".concat(e,"-").concat(a)))})).catch((function(e){t.abort||(k.a.send(e),t.setState({error:e}))}))}}},{key:"componentDidMount",value:function(){this.setState({getDecision:this.getDecision.bind(this)}),this.getDecision(this.state.agent)}},{key:"componentWillUnmount",value:function(){this.abort=!0,R("")}},{key:"render",value:function(){var e=this.props,t=e.decisionMap;if(this.state.agent&&this.state.decision){var a=t.get(this.state.decision);if(a)return g.a.createElement("span",{className:"sclt-abtest-".concat(this.state.agent)},a)}if(this.state.error){var i=t.get(e.fallback);if(i)return i}return null}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.agent!==t.agent?(t.getDecision(e.agent),{agent:e.agent,error:"",decision:null}):null}}]),t}(g.a.Component);O.propTypes={agent:A.a.string,decisionMap:A.a.instanceOf(L.Map),fallback:A.a.string},O.defaultProps={agent:"",decisionMap:new L.Map,fallback:""};var j=function(e){var t=e.abtest,a=e.children;return t>0?a[t-1]:a[0]||null},H=function(e){return g.a.createElement((t=j,a=e.agent,i=e.check,function(e){function r(e){var t;return c()(this,r),(t=h()(this,m()(r).call(this,e))).abort=!1,t.state={decision:0},t.decision=null,t.onDecisionError=t.onDecisionError.bind(n()(t)),t.onDecision=t.onDecision.bind(n()(t)),t}return f()(r,e),u()(r,[{key:"onDecision",value:function(e){if(!this.abort&&"string"===typeof e){var t=Math.max(0,e.charCodeAt(0)-65)+1;this.setState({decision:t}),R("".concat(a,"-").concat(e)),this.decision=null}}},{key:"onDecisionError",value:function(e){this.abort||(k.a.send(e),this.decision=null)}},{key:"componentDidMount",value:function(){this.createDecision()}},{key:"componentDidUpdate",value:function(e,t){this.createDecision()}},{key:"createDecision",value:function(){0===this.state.decision&&(R(""),i&&!i(this.props)||this.decision||(this.decision=Object(y.a)(a).then(this.onDecision).catch(this.onDecisionError)))}},{key:"componentWillUnmount",value:function(){this.abort=!0,R("")}},{key:"render",value:function(){return g.a.createElement(t,o()({},this.props,{abtest:this.state.decision}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.decision>0&&i&&!i(e)?{decision:0}:null}}]),r}(g.a.PureComponent)),e);var t,a,i}},769:function(e,t,a){"use strict";var i=a(29),o=a.n(i),r=a(12),n=a.n(r),s=a(4),c=a.n(s),l=a(8),u=a.n(l),p=a(5),h=a.n(p),d=a(6),m=a.n(d),w=a(40),f=a.n(w),b=a(7),g=a.n(b),k=a(0),y=a.n(k),v=a(1),N=a.n(v),E=a(145),C=a(2),S=a.n(C),T=a(100),P=a(283),I=a(16),x=a(92),B=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this))).viewport=e.viewport,a.hasTopStories=e.hasTopStories,a.richPolicy=!!e.richPolicy&&e.richPolicy,a.contentPackage=e.contentPackage?e.contentPackage:null,a}return g()(t,e),u()(t,[{key:"groupBy",value:function(e,t){return t}},{key:"transform",value:function(e,t){return this._transformDesktop(e,t)}},{key:"_transformDesktop",value:function(e,t){var a=this,i=[],o=3,r=this.richPolicy?1:4,n=this.hasTopStories?r:0;return"viewportSmall"===this.viewport&&(o=1,n=0),e.map((function(){var e=I.a.TYPE_DEFAULT;e=a.hasTopStories&&0===t?e=a.richPolicy&&!a.contentPackage?I.a.TYPE_FEATURED:I.a.TYPE_FULL_BLEED:t>=n&&t<n+o?I.a.TYPE_FULL_BLEED:a.richPolicy?I.a.TYPE_REGULAR:I.a.TYPE_DEFAULT,i.push(e)})),S.a.fromJS(i)}}]),t}(x.a),L=a(285),F=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this))).contentPackage=e.contentPackage,a}return g()(t,e),u()(t,[{key:"groupBy",value:function(e,t){var a=0;return t>0&&(a=1),a}},{key:"transform",value:function(e,t){var a=this,i=S.a.fromJS({0:this.contentPackage?I.a.TYPE_LISTING_HORIZONTAL:I.a.TYPE_FEATURED,1:I.a.TYPE_LISTING_HORIZONTAL});return e.map((function(e){return i.get("".concat(t),a.remainingType)}))}}]),t}(x.a),D=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"groupBy",value:function(e,t){var a=0;return t>0&&(a=1),a}},{key:"transform",value:function(e,t){var a=S.a.fromJS({0:I.a.TYPE_TEXT});return e.map((function(e){return a.get("".concat(t),I.a.TYPE_TEXT)}))}}]),t}(x.a),A=a(287),R=a(284);function O(e){if(!e.items)return null;var t="viewportSmall"===e.viewport,a=e.items.slice(0,5),i=e.items.slice(5,L.b),o=t?new A.a({contentPackage:e.contentPackage}):new F(e),r=t?new R.a:new D,s={baseSection:e.baseSection,subSection:e.subSection,viewport:e.viewport,loadMore:!1,trackingSection:"featuredNewsContentList"};return y.a.createElement("div",{className:"featuredNews sclt-featuredTopStoriesDense"},y.a.createElement("div",{className:"featuredNewsContentPackage"},e.contentPackage),y.a.createElement("div",{className:"featuredTopStories"},y.a.createElement("div",{className:"primaryTopStories","data-test":"topStoriesFeaturedNews"},y.a.createElement(E.a,n()({items:a,displayPolicy:o},s))),e.mobileAd,y.a.createElement("div",{className:"secondaryTopStories"},y.a.createElement(E.a,n()({items:i,displayPolicy:r},s)))))}O.propTypes={items:N.a.instanceOf(S.a.List).isRequired,baseSection:N.a.string,subSection:N.a.string,viewport:N.a.string,path:N.a.string,hasNativeAd:N.a.bool,cardClickHandler:N.a.func,mobileAd:N.a.object,contentPackage:N.a.object},O.defaultProps={items:null,baseSection:"news",subSection:"",viewport:"viewportLarge",path:"",hasNativeAd:!1,cardClickHandler:function(){},mobileAd:null,contentPackage:null};var j=a(10),H=j.b("Client.contentApi.contentList.numFeaturedHighlights"),M=(j.b("Client.contentApi.contentList.numFeaturedTopStories"),a(17)),_=a(27);function U(e){var t="viewportSmall"===e.viewport,a={adHierarchy:e.adHierarchy,pagePath:e.path,pageType:e.pageType,testAdHierarchy:e.testAdHierarchy,viewport:e.viewport,hasNativeAd:e.hasNativeAd},i=!0===t&&"homepage"!==e.baseSection?y.a.createElement(T.a,{type:"bigbox",hierarchy:a.adHierarchy,targeting:{plc:"feed"}}):null;if(e.isDenseFeatured)return y.a.createElement("section",{className:"featuredArea sclt-featuredarea"},y.a.createElement(P.a.H2,{className:"a11y"},"Featured Content"),y.a.createElement(O,n()({mobileAd:i},e)));var o={baseSection:e.baseSection,subSection:e.subSection,viewport:e.viewport,hasTopStories:e.hasTopStories,contentPackage:e.contentPackage},r=void 0!==e.displayPolicy?e.displayPolicy:new B(o);r.richPolicy&&t&&(r=new A.a({contentPackage:e.contentPackage}));var s={baseSection:e.baseSection,subSection:e.subSection,trackingSection:"featured"},c=r.format(e.items,s,e.lazyLoad,a,e.cardClickHandler),l=e.hasTopStories?Object(M.f)(e.baseSection):0;if(_.b[e.path]){var u=_.b[e.path].customNumTopStories;l=u||l}var p=function(e,t,a){if(e&&e.size&&e.size<=t)return null;if(a)return t;return 0}(c,l,e.hasHighlightedStories),h=function(e,t,a,i){if(null===a)return null;if(!i)return t;if(e&&e.size&&e.size<=a+H)return null;return a+H}(c,l,p,e.hasHighlightedStories);return y.a.createElement("div",null,y.a.createElement("section",{className:"featuredArea sclt-featuredarea","data-test":"topStoriesFeatured"},y.a.createElement(P.a.H2,{className:"a11y"},"Featured Content"),e.contentPackage,function(e,t,a){if(!e||!t)return null;var i=q(e,0,a);if(!i)return null;var o=i.shift(),r=i.length?y.a.createElement("div",{className:"secondaryTopStories"},i):null;return y.a.createElement("div",{className:"featuredTopStories sclt-featuredTopStories"},y.a.createElement("div",{className:"primaryTopStories"},o),r)}(c,e.hasTopStories,l),function(e,t,a){if(!e||!a)return null;return y.a.createElement("div",{className:"featuredHighlights sclt-featuredHighlights"},q(e,t,t+H))}(c,p,e.hasHighlightedStories),i,q(c,h,c.size)))}function q(e,t,a){if(e&&e.size&&null!==t&&e.size>t){var i=e.slice(t,a);return i?i.toArray():i}return null}U.propTypes={items:N.a.instanceOf(S.a.List).isRequired,baseSection:N.a.string.isRequired,subSection:N.a.string.isRequired,viewport:N.a.string,path:N.a.string,hasTopStories:N.a.bool,hasHighlightedStories:N.a.bool,hasNativeAd:N.a.bool,cardClickHandler:N.a.func,contentPackage:N.a.object},U.defaultProps={items:null,baseSection:"news",subSection:"",viewport:"viewportLarge",path:"",hasTopStories:!1,hasHighlightedStories:!0,hasNativeAd:!1,cardClickHandler:function(){},contentPackage:null};var z=U,W=a(289),V=a(3),G=a.n(V),Y=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this,e))).state={showRadios:!1},a.onShowRadios=a.onShowRadios.bind(f()(a)),a}return g()(t,e),u()(t,[{key:"onShowRadios",value:function(){this.setState({showRadios:!this.state.showRadios})}},{key:"render",value:function(){var e=G()("radioList","sclt-viewingOptions",{open:this.state.showRadios});return y.a.createElement("div",{className:e},y.a.createElement("button",{id:"displayMode",onClick:this.onShowRadios},"Viewing Options"),y.a.createElement("div",{className:"filters",role:"radiogroup","aria-labelledby":"displayMode"},this.props.children))}}]),t}(k.PureComponent);Y.propTypes={},Y.defaultProps={};var $=Y;function J(e){return y.a.createElement("div",{className:"radioListItem"},y.a.createElement("input",{"aria-label":e.value,type:"radio",name:e.groupName,id:e.id,value:e.value,onClick:e.onSelected}),y.a.createElement("label",{htmlFor:e.id},e.label))}J.propTypes={id:N.a.string,groupName:N.a.string,value:N.a.string,label:N.a.string,onSelected:N.a.func},J.defaultProps={};var K=J,X=a(767),Z=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"groupBy",value:function(e,t){return t%6}},{key:"transform",value:function(e,t){var a=S.a.fromJS({0:I.a.TYPE_FULL_BLEED,1:I.a.TYPE_BREAKING,2:I.a.TYPE_LIVE,3:I.a.TYPE_GRAPHICAL,4:I.a.TYPE_DEFAULT,5:I.a.TYPE_TEXT,6:I.a.TYPE_MEDIA});return e.map((function(e){return a.get("".concat(t),I.a.TYPE_DEFAULT)}))}}]),t}(x.a),Q=a(772),ee=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"groupBy",value:function(e,t){var a=0;return t>0&&(a=1),a}},{key:"transform",value:function(e,t){var a=S.a.fromJS({0:I.a.TYPE_DEFAULT});return e.map((function(e){return a.get("".concat(t),I.a.TYPE_DEFAULT)}))}}]),t}(x.a),te=a(291),ae=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"groupBy",value:function(e,t){var a=0;return t>2&&(a=1),a}},{key:"transform",value:function(e,t){var a=S.a.fromJS({0:I.a.TYPE_LISTING,1:I.a.TYPE_LISTING_HORIZONTAL});return e.map((function(e){return a.get("".concat(t),I.a.TYPE_DEFAULT)}))}}]),t}(x.a),ie=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this))).contentPackage=e.contentPackage?e.contentPackage:null,a}return g()(t,e),u()(t,[{key:"groupBy",value:function(e,t){var a=0;return t>0&&(a=1),a}},{key:"transform",value:function(e,t){var a=this,i=S.a.fromJS({0:this.contentPackage?I.a.TYPE_FULL_BLEED:I.a.TYPE_FEATURED,1:I.a.TYPE_REGULAR});return e.map((function(e){return i.get("".concat(t),a.remainingType)}))}}]),t}(x.a),oe=function(e){function t(){return c()(this,t),h()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"groupBy",value:function(e){return 0}},{key:"transform",value:function(e,t){var a=S.a.fromJS({0:I.a.TYPE_LISTING_HORIZONTAL});return e.map((function(e){return a.get("".concat(t),I.a.TYPE_LISTING_HORIZONTAL)}))}}]),t}(x.a),re=a(50);var ne=a(21),se=a(774),ce=a(773),le=a(44),ue=a.n(le),pe=a(158),he=a(93),de=a(13),me={title:"Follow CBC Life",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbclife"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbclife"},{socialNetwork:"pinterest",url:"https://www.pinterest.com/cbclife"},{socialNetwork:"youtube",url:"https://www.youtube.com/cbclife"},{socialNetwork:"twitter",url:"https://www.twitter.com/CBC_life"},{socialNetwork:"snapchat",url:"https://www.snapchat.com/add/cbclife"}]},we={title:"Follow CBC Docs",links:[{socialNetwork:"instagram",url:"https://www.instagram.com/cbcdocs/"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcdocs"},{socialNetwork:"twitter",url:"https://twitter.com/cbcdocs"},{socialNetwork:"youtube",url:"https://www.youtube.com/c/CBCDocs"}]},fe={title:"Follow The Great Canadian Baking Show",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/GreatCanadianBakingShowCBC"},{socialNetwork:"twitter",url:"https://twitter.com/cbcbakingshow"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcbakingshow"}]},be={title:"Follow Still Standing",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/stillstandingtv/"},{socialNetwork:"twitter",url:"https://twitter.com/stillstandingtv"},{socialNetwork:"instagram",url:"https://instagram.com/stillstandingtv"}]},ge={2017:{title:"Follow Canada 2017",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbccanada2017"},{socialNetwork:"twitter",url:"https://twitter.com/cbc2017"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbc2017"}]},"2017/wearecanada":{title:"Follow Canada 2017",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbccanada2017"},{socialNetwork:"twitter",url:"https://twitter.com/cbc2017"}]},archives:{title:"Follow Archives",links:[{socialNetwork:"twitter",url:"https://twitter.com/cbc_archives"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBC-Digital-Archives-18389907054/"}]},"archives/arts":{title:"Follow Archives",links:[{socialNetwork:"twitter",url:"https://twitter.com/cbc_archives"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBC-Digital-Archives-18389907054/"}]},"archives/history":{title:"Follow Archives",links:[{socialNetwork:"twitter",url:"https://twitter.com/cbc_archives"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBC-Digital-Archives-18389907054/"}]},"archives/sports":{title:"Follow Archives",links:[{socialNetwork:"twitter",url:"https://twitter.com/cbc_archives"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBC-Digital-Archives-18389907054/"}]},arts:{title:"Follow CBC Arts",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcarts"},{socialNetwork:"twitter",url:"https://www.twitter.com/cbcarts"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcarts"},{socialNetwork:"youtube",url:"https://www.youtube.com/cbcarts"}]},books:{title:"Follow CBC Books",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcbooks"},{socialNetwork:"twitter",url:"https://twitter.com/cbcbooks"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcbooks/"}]},"books/canadareads":{title:"Follow CBC Books",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcbooks"},{socialNetwork:"twitter",url:"https://twitter.com/cbcbooks"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcbooks/"}]},"books/canadawrites":{title:"Follow CBC Books",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcbooks"},{socialNetwork:"twitter",url:"https://twitter.com/cbcbooks"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcbooks/"}]},"books/literaryprizes":{title:"Follow CBC Books",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcbooks"},{socialNetwork:"twitter",url:"https://twitter.com/cbcbooks"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcbooks/"}]},"books/readinglists":{title:"Follow CBC Books",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcbooks"},{socialNetwork:"twitter",url:"https://twitter.com/cbcbooks"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcbooks/"}]},comedy:{title:"Follow CBC Comedy",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbccomedy"},{socialNetwork:"twitter",url:"https://twitter.com/CBCComedy"},{socialNetwork:"youtube",url:"https://www.youtube.com/user/CBCPunchline"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbccomedy"}]},documentaries:we,"documentaries/brief-but-spectacular":we,homepage:{title:"Follow CBC",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbc"},{socialNetwork:"twitter",url:"https://twitter.com/CBC"},{socialNetwork:"youtube",url:"https://www.youtube.com/user/CBCtv"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbc"},{socialNetwork:"newsletter",url:"https://subscriptions.cbc.ca/forms/cbcnewsletter"}]},life:me,"life/greatcanadianbakingshow":fe,"life/greatcanadianbakingshow/bakers":fe,"life/greatcanadianbakingshow/episodes":fe,"life/greatcanadianbakingshow/recipes":fe,"life/greatcanadianbakingshow/about":fe,"life/jamieoliver":me,"life/jamieoliver/recipes":me,"life/jamieoliver/watch":me,"life/backintimeforwinter":{title:"Back in Time for Winter",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBClife/"},{socialNetwork:"twitter",url:"https://twitter.com/CBC_life"},{socialNetwork:"instagram",url:"https://www.instagram.com/backintimecbc/"}]},"life/thegoods":{title:"Follow The Goods",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbclife"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcthegoods"},{socialNetwork:"pinterest",url:"https://www.pinterest.com/cbclife"},{socialNetwork:"youtube",url:"https://www.youtube.com/cbclife"},{socialNetwork:"twitter",url:"https://twitter.com/cbcthegoods"},{socialNetwork:"snapchat",url:"https://www.snapchat.com/add/cbclife"}]},"life/fridgewars":{title:"Fridge Wars",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/fridgewarscbc"},{socialNetwork:"twitter",url:"https://twitter.com/fridgewars"},{socialNetwork:"instagram",url:"https://www.instagram.com/fridgewars/"}]},news:{title:"Follow CBC News",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcnews"},{socialNetwork:"twitter",url:"https://twitter.com/CBCNews"},{socialNetwork:"youtube",url:"https://www.youtube.com/user/cbcnews"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcnews"}]},"news/canada/british-columbia":{title:"Follow CBC British Columbia",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCVancouver"},{socialNetwork:"twitter",url:"https://twitter.com/cbcnewsbc"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcvancouver"}]},"news/canada/british-columbia/community":{title:"Follow CBC British Columbia",links:[{socialNetwork:"twitter",url:"https://twitter.com/cbcvancouver"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCVancouver"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcvancouver"},{socialNetwork:"snapchat",url:"https://www.snapchat.com/add/cbcvancouver"},{socialNetwork:"youtube",url:"https://www.youtube.com/channel/UCiKE6mqbKmGGlNAtccn04MA"}]},"news/canada/calgary":{title:"Follow CBC Calgary",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbccalgary"},{socialNetwork:"twitter",url:"https://twitter.com/CBCCalgary"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbccalgary"}]},"news/canada/calgary/community":{title:"Follow CBC Calgary",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbccalgary"},{socialNetwork:"twitter",url:"https://twitter.com/CBCCalgary"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbccalgary"}]},"news/canada/calgary/the-road-ahead":{title:"Follow CBC Calgary",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbccalgary"},{socialNetwork:"twitter",url:"https://twitter.com/CBCCalgary"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbccalgary"}]},"news/canada/edmonton":{title:"Follow CBC Edmonton",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcedmonton/"},{socialNetwork:"twitter",url:"https://twitter.com/CBCEdmonton"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcedmonton"}]},"news/canada/hamilton":{title:"Follow CBC Hamilton",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbchamilton"},{socialNetwork:"twitter",url:"https://twitter.com/CBCHamilton"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbchamilton"}]},"news/canada/manitoba":{title:"Follow CBC Manitoba",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcmanitoba"},{socialNetwork:"twitter",url:"https://twitter.com/CBCManitoba"},{socialNetwork:"youtube",url:"https://www.youtube.com/user/CBCManitoba"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcmanitoba"}]},"news/canada/manitoba/community":{title:"Follow CBC Manitoba",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcmanitoba"},{socialNetwork:"twitter",url:"https://www.twitter.com/CBCManitoba"},{socialNetwork:"youtube",url:"https://www.youtube.com/CBCManitoba"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcmanitoba"}]},"news/canada/montreal":{title:"Follow CBC Montreal",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCMontreal"},{socialNetwork:"twitter",url:"https://twitter.com/CBCMontreal"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcmontreal"}]},"news/canada/new-brunswick":{title:"Follow CBC New Brunswick",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCNB"},{socialNetwork:"twitter",url:"https://twitter.com/CBCNB"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcnewbrunswick"}]},"news/canada/newfoundland-labrador":{title:"Follow CBC Newfoundland and Labrador",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcnl"},{socialNetwork:"twitter",url:"https://twitter.com/cbcnl"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcnl"},{socialNetwork:"youtube",url:"https://www.youtube.com/c/cbcnl"}]},"news/canada/north":{title:"Follow CBC North",links:[{socialNetwork:"twitter",url:"https://twitter.com/CBCNorth"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCNorth/?ref=aymt_homepage_panel"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcnorth/"}]},"news/canada/nova-scotia":{title:"Follow CBC Nova Scotia",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCNovaScotia"},{socialNetwork:"twitter",url:"https://twitter.com/CBCNS"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcns"}]},"news/canada/ottawa":{title:"Follow CBC Ottawa",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCOttawa"},{socialNetwork:"twitter",url:"https://twitter.com/CBCOttawa"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcottawa"}]},"news/canada/prince-edward-island":{title:"Follow CBC PEI",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCPEI"},{socialNetwork:"twitter",url:"https://twitter.com/CBCPEI"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcpei"}]},"news/canada/saskatchewan":{title:"Follow CBC Saskatchewan",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcsask"},{socialNetwork:"twitter",url:"https://twitter.com/CBCSask"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcsask"},{socialNetwork:"snapchat",url:"https://www.snapchat.com/add/cbcsask"}]},"news/canada/saskatchewan/community":{title:"Follow CBC Saskatchewan",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcsask"},{socialNetwork:"twitter",url:"https://twitter.com/CBCSask"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcsask"},{socialNetwork:"snapchat",url:"https://www.snapchat.com/add/cbcsask"}]},"news/canada/saskatoon":{title:"Follow CBC Saskatoon",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCSaskatoon/"},{socialNetwork:"twitter",url:"https://twitter.com/CBCSaskatoon"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcsask"},{socialNetwork:"snapchat",url:"https://www.snapchat.com/add/cbcsask"}]},"news/canada/toronto":{title:"Follow CBC Toronto",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCToronto"},{socialNetwork:"twitter",url:"https://twitter.com/CBCToronto"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbctoronto"}]},"news/canada/windsor":{title:"Follow CBC Windsor",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCWindsor"},{socialNetwork:"twitter",url:"https://twitter.com/CBCWindsor"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcwindsor/"}]},"news/indigenous":{title:"Follow CBC Indigenous",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBC.caIndigenous"},{socialNetwork:"twitter",url:"https://twitter.com/cbcindigenous"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcindigenous"},{socialNetwork:"youtube",url:"https://www.youtube.com/playlist?list=PLeyJPHbRnGaaTPy6Dz5DcahunrW8873fN"}]},"news/fifth":{title:"Follow The Fifth Estate",links:[{socialNetwork:"twitter",url:"https://www.twitter.com/cbcfifth"},{socialNetwork:"facebook",url:"https://www.facebook.com/thefifthestate"},{socialNetwork:"youtube",url:"https://www.youtube.com/channel/UCa-bX3gZC3YnCThlGM5d38Q"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcfifth"}]},"news/marketplace":{title:"Follow Marketplace",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcmarketplace"},{socialNetwork:"twitter",url:"https://www.twitter.com/cbcmarketplace"}]},"news/politics/powerandpolitics":{title:"Follow Power & Politics",links:[{socialNetwork:"youtube",url:"https://www.youtube.com/playlist?list=PLeyJPHbRnGaZ1LGEJXLVGF87go3CuPlWo"},{socialNetwork:"twitter",url:"https://twitter.com/PnPCBC"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCPolitics/"},{socialNetwork:"instagram",url:"https://www.instagram.com/pnpcbc/"}]},"news/thenational":{title:"Follow The National",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/thenational/"},{socialNetwork:"twitter",url:"https://twitter.com/CBCTheNational"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcthenational/"}]},radio:{title:"Follow CBC Radio",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/radiocbc"},{socialNetwork:"twitter",url:"https://twitter.com/cbcradio"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcradio/"}]},"radio/alone":{title:"Follow Alone: A Love Story",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/alone-a-love-story-1/"},{socialNetwork:"facebook",url:"https://www.facebook.com/alonecbc"},{socialNetwork:"twitter",url:"https://twitter.com/alonecbc"}]},"radio/asithappens":{title:"Follow As it Happens",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/as-it-happens/"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCasithappens"},{socialNetwork:"twitter",url:"https://twitter.com/CBCasithappens"}]},"radio/becausenews":{title:"Follow Because News",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/comedy/because-news/"},{socialNetwork:"facebook",url:"https://www.facebook.com/becausenews"},{socialNetwork:"twitter",url:"https://twitter.com/CBCBecauseNews"},{socialNetwork:"instagram",url:"https://instagram.com/cbcbecausenews/"}]},"radio/checkup":{title:"Follow Cross Country Checkup",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/cross-country-checkup/"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCCrossCountryCheckup/"},{socialNetwork:"twitter",url:"https://twitter.com/CheckupCBC"}]},"radio/costofliving":{title:"Follow Cost of Living",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/cost-of-living/index.html"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCCostofLiving/"},{socialNetwork:"twitter",url:"https://twitter.com/cbccostofliving"}]},"radio/thecurrent":{title:"Follow The Current",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/the-current/"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcthecurrent"},{socialNetwork:"twitter",url:"https://twitter.com/thecurrentcbc"}]},"radio/day6":{title:"Follow Day 6",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/day-6/"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCDay6"},{socialNetwork:"twitter",url:"https://twitter.com/CBCDay6"}]},"radio/thedebaters":{title:"Follow The Debaters",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/comedy/the-debaters/"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcdebaters"},{socialNetwork:"twitter",url:"https://twitter.com/cbcdebaters"}]},"radio/docproject":{title:"Follow The Doc Project",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/the-doc-project/"},{socialNetwork:"facebook",url:"https://www.facebook.com/DocProjectCBC"},{socialNetwork:"twitter",url:"https://twitter.com/DocProjectCBC"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcthedocproject"},{socialNetwork:"youtube",url:"https://www.youtube.com/channel/UCeBvHcEtJlNyqS9T5aQBgtA"}]},"radio/thefridgelight":{title:"Follow CBC The Fridge Light",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/the-fridge-light/"},{socialNetwork:"twitter",url:"https://twitter.com/fridgelightcbc"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcpodcasts"},{socialNetwork:"instagram",url:"https://www.instagram.com/fridgelightcbc/"}]},"radio/frontburner":{title:"Follow CBC Front Burner",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/front-burner/"},{socialNetwork:"twitter",url:"https://twitter.com/FrontBurnerCBC"}]},"radio/thehouse":{title:"Follow CBC The House",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/the-house/"},{socialNetwork:"twitter",url:"https://twitter.com/#!/CBCTheHouse"}]},"radio/ideas":{title:"Follow Ideas",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/documentaries/the-best-of-ideas/"},{socialNetwork:"facebook",url:"https://www.facebook.com/pages/Ideas-on-CBC-Radio/150107091761767"},{socialNetwork:"twitter",url:"https://twitter.com/cbcideas"},{socialNetwork:"newsletter",url:"https://www.cbc.ca/radio/ideas/ideas-newsletter-1.4811924"}]},"radio/irrelevantshow":{title:"Follow The Irrelevant Show",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/irrelevantshow/index.html"},{socialNetwork:"facebook",url:"https://www.facebook.com/pages/CBCs-The-Irrelevant-Show/213257698710412"},{socialNetwork:"twitter",url:"https://twitter.com/IrrelevantShow"}]},"radio/loveme":{title:"Follow CBC Love Me",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/love-me/"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcpodcasts"},{socialNetwork:"twitter",url:"https://twitter.com/cbcpodcasts"}]},"radio/newfire":{title:"Follow CBC New Fire",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/new-fire/"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBC.caAboriginal"},{socialNetwork:"twitter",url:"https://twitter.com/urbannativegirl"}]},"radio/thenextchapter":{title:"Follow The Next Chapter",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/the-next-chapter-highlights/"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcbooks"},{socialNetwork:"twitter",url:"https://twitter.com/cbcbooks"}]},"radio/nowornever":{title:"Follow CBC Now or Never",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/now-or-never/index.html"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcnowornever"},{socialNetwork:"twitter",url:"https://twitter.com/CBCNowOrNever"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcnowornever"}]},"radio/ondrugs":{title:"Follow On Drugs",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/on-drugs/"},{socialNetwork:"facebook",url:"https://www.facebook.com/radiocbc"},{socialNetwork:"twitter",url:"https://twitter.com/cbcpodcasts"}]},"radio/outintheopen":{title:"Follow Out in the Open",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/out-in-the-open/"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcoutintheopen/"},{socialNetwork:"twitter",url:"https://twitter.com/cbcopen"}]},"radio/personalbest":{title:"Follow Personal Best",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/comedy/personal-best/"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcpodcasts"},{socialNetwork:"twitter",url:"https://twitter.com/personalbestCBC"}]},"radio/podcastplaylist":{title:"Follow Podcast Playlist",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/podcast-playlist/"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcpodcastplaylist"},{socialNetwork:"twitter",url:"https://twitter.com/podcastplaylist"}]},"radio/q":{title:"Follow q",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/q-the-podcast/"},{socialNetwork:"facebook",url:"https://www.facebook.com/QonCBCRadio"},{socialNetwork:"twitter",url:"https://twitter.com/CBCRadioQ"},{socialNetwork:"instagram",url:"https://instagram.com/cbcq"},{socialNetwork:"youtube",url:"https://www.youtube.com/qtv"}]},"radio/quirks":{title:"Follow Quirks & Quarks",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/quirks/index.html"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCQuirks"},{socialNetwork:"twitter",url:"https://www.twitter.com/cbcquirks"}]},"radio/rewind":{title:"Follow Rewind",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/rewind/"},{socialNetwork:"facebook",url:"https://www.facebook.com/radiocbc"},{socialNetwork:"twitter",url:"https://www.twitter.com/cbcradio"}]},"radio/seatatthetable":{title:"Follow Seat at the Table",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/seat-at-the-table/"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCSeatAtTheTable/"},{socialNetwork:"twitter",url:"https://twitter.com/cbcradio"}]},"radio/secretlifeofcanada":{title:"Follow Secret Life of Canada",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/documentaries/the-secret-life-of-canada/"},{socialNetwork:"facebook",url:"https://www.facebook.com/thesecretlifeofcanada/"},{socialNetwork:"twitter",url:"https://twitter.com/secretlifeofCAD"}]},"radio/sks":{title:"Follow Someone Knows Something",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/sks/"},{socialNetwork:"facebook",url:"https://www.facebook.com/SomeoneKnowsSomething"},{socialNetwork:"twitter",url:"https://twitter.com/@skscbc"}]},"radio/sleepover":{title:"Follow CBC Sleepover",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/sleepover/"},{socialNetwork:"facebook",url:"https://www.facebook.com/SleepoverCBC-1129485650478840/"},{socialNetwork:"twitter",url:"https://twitter.com/SleepoverCBC"}]},"radio/spark":{title:"Follow Spark",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/spark/"},{socialNetwork:"facebook",url:"https://www.facebook.com/sparkcbc"},{socialNetwork:"twitter",url:"https://twitter.com/SparkCBC"}]},"radio/thesundayedition":{title:"Follow The Sunday Edition",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/the-best-of-the-sunday-edition/"},{socialNetwork:"facebook",url:"https://www.facebook.com/pages/The-Sunday-Edition/196815904419"},{socialNetwork:"twitter",url:"https://www.twitter.com/cbcsunday"}]},"radio/taiaskswhy":{title:"Follow CBC Podcasts",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/tai-asks-why/"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCPodcasts"},{socialNetwork:"twitter",url:"https://twitter.com/cbcpodcasts"}]},"radio/tapestry":{title:"Follow Tapestry",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/tapestry/"},{socialNetwork:"facebook",url:"https://www.facebook.com/pages/CBC-Tapestry-with-Mary-Hynes/142066729216955"},{socialNetwork:"twitter",url:"https://twitter.com/cbctapestry"}]},"radio/thisisthat":{title:"Follow This is That",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/comedy/this-is-that/"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCThisIsThat"},{socialNetwork:"twitter",url:"https://www.twitter.com/cbcthisisthat"},{socialNetwork:"instagram",url:"https://instagram.com/cbcthisisthat"}]},"radio/undertheinfluence":{title:"Follow CBC Under The Influence",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/under-the-influence/"},{socialNetwork:"facebook",url:"https://www.facebook.com/undertheinfluencecbc"},{socialNetwork:"twitter",url:"https://twitter.com/terryoinfluence"},{socialNetwork:"instagram",url:"https://www.instagram.com/terryoinfluence/"}]},"radio/unreserved":{title:"Follow CBC Unreserved",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/unreserved/index.html"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcunreserved/"},{socialNetwork:"twitter",url:"https://twitter.com/CBCUnreserved"}]},"radio/whitecoat":{title:"Follow White Coat, Black Art",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/white-coat-black-art/"},{socialNetwork:"facebook",url:"https://www.facebook.com/whitecoatcbc"},{socialNetwork:"twitter",url:"https://twitter.com/cbcwhitecoat"}]},"radio/writersandcompany":{title:"Follow Writers and Company",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/writers-company/"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcbooks"},{socialNetwork:"twitter",url:"https://twitter.com/cbcbooks"}]},sports:{title:"Follow CBC Sports",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCSports"},{socialNetwork:"twitter",url:"https://twitter.com/cbcsports"},{socialNetwork:"youtube",url:"https://www.youtube.com/user/CBCSports"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbc.sports/"}]},"television/battleoftheblades":{title:"Follow Battle of the Blades",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/battleoftheblades/"},{socialNetwork:"twitter",url:"https://twitter.com/cbcbattle/"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcbattle/"}]},"television/fromthevaults":{title:"Follow From The Vaults",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCTelevision"},{socialNetwork:"twitter",url:"https://twitter.com/cbctelevision"}]},"television/familyfeud":{title:"Family Feud Canada",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/FamilyFeudCanada/"},{socialNetwork:"twitter",url:"https://twitter.com/FamilyFeudCa"},{socialNetwork:"instagram",url:"https://www.instagram.com/familyfeudcanada/"},{socialNetwork:"youtube",url:"https://www.youtube.com/channel/UCpueTLq46sezKE7AyStXJUA"}]},"television/higharctichaulers":{title:"Follow High Arctic Haulers",links:[{socialNetwork:"facebook",url:"https://facebook.com/higharctichaulers"},{socialNetwork:"twitter",url:"https://twitter.com/higharctichaul/"},{socialNetwork:"instagram",url:"https://www.instagram.com/higharctichaulers/"}]},"television/thedetectives":{title:"Follow The Detectives",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/TheDetectivesCBC/"},{socialNetwork:"twitter",url:"https://twitter.com/CBCDetectives"}]},"television/stillstanding":be,"television/stillstanding/about":be,"meta/adtestpage":{title:"Follow CBC",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbc"},{socialNetwork:"twitter",url:"https://twitter.com/CBC"},{socialNetwork:"youtube",url:"https://www.youtube.com/user/CBCtv"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbc"},{socialNetwork:"newsletter",url:"https://subscriptions.cbc.ca/forms/cbcnewsletter"}]}},ke={facebook:{displayName:"Facebook",imageUrl:"https://i.cbc.ca/1.4586793.1521664140!/fileImage/httpImage/facebook.png",userAction:"Like"},gplus:{displayName:"Google+",imageUrl:"https://i.cbc.ca/1.4586806.1521664341!/fileImage/httpImage/reddit.png",userAction:"Join"},instagram:{displayName:"Instagram",imageUrl:"https://i.cbc.ca/1.4586808.1521664476!/fileImage/httpImage/instagram.png",userAction:"Follow"},linkedin:{displayName:"LinkedIn",imageUrl:"https://i.cbc.ca/1.4586847.1521665060!/fileImage/httpImage/linkedin.png",userAction:"Follow"},newsletter:{displayName:"the CBC Newsletter",imageUrl:"https://i.cbc.ca/1.4586850.1531937054!/fileImage/httpImage/newsletter.png",userAction:"Sign up for the best of"},pinterest:{displayName:"Pinterest",imageUrl:"https://i.cbc.ca/1.4586853.1521665185!/fileImage/httpImage/pinterest.png",userAction:"Follow"},reddit:{displayName:"reddit",imageUrl:"https://i.cbc.ca/1.4586856.1521665243!/fileImage/httpImage/reddit.png",userAction:"Subscribe to"},snapchat:{displayName:"Snapchat",imageUrl:"https://i.cbc.ca/1.4586861.1521665368!/fileImage/httpImage/snapchat.png",userAction:"Add"},twitter:{displayName:"Twitter",imageUrl:"https://i.cbc.ca/1.4586863.1521665398!/fileImage/httpImage/twitter.png",userAction:"Follow"},youtube:{displayName:"YouTube",imageUrl:"https://i.cbc.ca/1.4586869.1521665472!/fileImage/httpImage/youtube.png",userAction:"Subscribe to"},podcast:{displayName:"Podcast",imageUrl:"https://i.cbc.ca/1.4586880.1521665636!/fileImage/httpImage/podcast.png",userAction:"Listen to"}};var ye=function(e){var t=void 0!==ge[e.path]?ge[e.path]:null,a="",i=[],o="";return t&&(a=t.title,o=a.replace("Follow ",""),i=t.links.map((function(e,t){return y.a.createElement("li",{key:"".concat(t,"-followUs")},y.a.createElement(de.a,{url:e.url,external:!0},y.a.createElement(he.a,{url:"".concat(ke[e.socialNetwork].imageUrl),type:"followUs-image"}),y.a.createElement("span",{role:"tooltip",key:"".concat(t,"-followUs-action")},ke[e.socialNetwork].userAction," ",o," on"," ",ke[e.socialNetwork].displayName)))}))),function(e,t){if(!t||!t.length)return null;return y.a.createElement("div",{className:"followUs"},y.a.createElement(P.a.H2,{className:"followUsHeadline"},e),y.a.createElement("ul",null,t))}(a,i)},ve=a(36),Ne=a(288),Ee=a(159),Ce=function(e){function t(e){var a;return c()(this,t),(a=h()(this,m()(t).call(this,e))).state={showSponsors:!1,wallpaper:!1},a.onFilterSelected=a.onFilterSelected.bind(f()(a)),a}return g()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.componentInfo={domNode:Object(ve.findDOMNode)(this),callback:this.wallpaperCallback.bind(this)},re.a.registerWallpaper(this.componentInfo)}},{key:"wallpaperCallback",value:function(e){this.state.wallpaper!==e&&this.setState({wallpaper:e})}},{key:"componentDidUpdate",value:function(){re.a.viewabilityHandler()}},{key:"onFilterSelected",value:function(e){this.props.dispatch({type:"UPDATE_DENSITY",density:e})}},{key:"getContentList",value:function(e,t){if(e&&e.size){var a={baseSection:this.props.baseSection,subSection:this.props.subSection,path:this.props.path,items:e,displayPolicy:t,lazyLoad:this.props.lazyLoad,viewport:this.props.viewport,testAdHierarchy:this.props.testAdHierarchy,adHierarchy:this.props.hierarchy,usePrimaryAPI:this.props.usePrimaryAPI,loadMoreState:this.props.loadMoreState,loadMore:this.props.loadMore,key:ue()(),pageType:this.props.pageType,hasNativeAd:this.props.hasNativeAd,trackingSection:"contentlist",cardClickHandler:this.props.cardClickHandler},i=this.props.listHeading?y.a.createElement("h2",{className:"listHeading"}," ",this.props.listHeading):null;return y.a.createElement("div",{className:"contentListWrapper"},i,y.a.createElement(E.a,a))}}},{key:"getFeaturedList",value:function(e,t,a){if(this.props.hasFeature&&e){var i={baseSection:this.props.baseSection,subSection:this.props.subSection,adHierarchy:this.props.hierarchy,testAdHierarchy:this.props.testAdHierarchy,items:e,displayPolicy:t,lazyLoad:this.props.lazyLoad,path:this.props.path,showRegion:this.props.showRegion,viewport:this.props.viewport,hasTopStories:!this.props.contentPackage&&this.props.hasTopStories,hasHighlightedStories:this.props.hasHighlightedStories,pageType:this.props.pageType,hasNativeAd:this.props.hasNativeAd,cardClickHandler:this.props.cardClickHandler,isDenseFeatured:this.props.isDenseFeatured,contentPackage:a};return y.a.createElement(z,i)}}},{key:"getWidgets",value:function(){if(this.props.sidebarWidgets.length)return y.a.createElement("div",{className:"widgets"},this.props.sidebarWidgets)}},{key:"getWidgetsAboveAd",value:function(){if(this.props.sidebarWidgetsAboveAd.length)return y.a.createElement("div",{className:"widgets"},this.props.sidebarWidgetsAboveAd)}},{key:"renderSwimLaneForElection",value:function(){var e={section:"".concat(this.props.path,"/swimlane"),headline:"".concat(_.g.hasOwnProperty(this.props.path)?_.g[this.props.path].province:""," Votes Features"),className:"electionSideBarSwimlane",itemCount:4,fetchSection:!0};return _.g.hasOwnProperty(this.props.path)&&_.g[this.props.path].swimlane?y.a.createElement(Ne.a,e):null}},{key:"getSidebar",value:function(){if(this.props.hasSidebar)return y.a.createElement("div",{className:"sidebar"},this.getWidgetsAboveAd(),y.a.createElement(ye,{path:this.props.path}),this.getBigBox(this.props),this.getOlympicsWidget(),this.getWidgets(),this.renderSwimLaneForElection())}},{key:"getSideBarNews",value:function(){if(this.props.hasSidebar)return y.a.createElement("div",{className:"sidebar"},y.a.createElement(ye,{path:this.props.path}),this.getBigBox(this.props),y.a.createElement(W.b,null),this.getWidgets())}},{key:"getBigBox",value:function(e){return y.a.createElement(T.a,{type:"bigbox",responsive:!0,hierarchy:e.hierarchy,test:e.testAdHierarchy,targeting:{plc:"feed"}})}},{key:"getOlympicsWidget",value:function(){if(void 0!==this.props.olympicsContent&&this.props.olympicsContent)return y.a.createElement(pe.a,{items:this.props.olympicsContent,title:"FEATURED CONTENT",displayPolicy:new ae,maxItems:3})}},{key:"getPolicySelector",value:function(){var e=this;if(this.props.showDisplaySelector&&this.props.viewport===L.c)return y.a.createElement($,null,y.a.createElement(K,{id:"high",value:L.a.high,label:"Text View",groupName:"filterList",onSelected:function(){return e.onFilterSelected(L.a.high)}}),y.a.createElement(K,{id:"med",value:L.a.medium,label:"Small View",groupName:"filterList",onSelected:function(){return e.onFilterSelected(L.a.medium)}}),y.a.createElement(K,{id:"default",value:L.a.default,label:"Standard View",groupName:"filterList",onSelected:function(){return e.onFilterSelected(L.a.default)}}),y.a.createElement(K,{id:"graphical",value:L.a.graphical,label:"High Res View",groupName:"filterList",onSelected:function(){return e.onFilterSelected(L.a.graphical)}}))}},{key:"getDisplayPolicy",value:function(){var e={baseSection:this.props.baseSection,subSection:this.props.subSection,viewport:this.props.viewport,hasTopStories:!this.props.contentPackage&&this.props.hasTopStories,contentPackage:this.props.contentPackage},t=null,a=null,i=this.props.density?this.props.density:L.a.default;switch(this.props.customDensity&&(i=this.props.customDensity),i){case L.a.debug:t=new Z,a=new B(e);break;case L.a.graphical:a=t=new Q.a;break;case L.a.high:a=t=new D;break;case L.a.medium:a=t=new ee;break;case L.a.listing:a=t=new ae;break;case L.a.homepage:t=new R.a,a=new ie(e);break;case L.a.rich:t=new te.a,e.richPolicy=!0,a=new B(e);break;case L.a.search:a=t=new oe;break;default:t=new R.a,a=new B(e)}return[t,a]}},{key:"isTopAreaPackage",value:function(){if(!this.props.contentPackage)return null;var e="undefined"!==typeof this.props.contentPackage.toJS?this.props.contentPackage.toJS():this.props.contentPackage,t=e.packageComponents&&e.packageComponents.tertiary&&e.packageComponents.tertiary.length;return t}},{key:"getContentPackageCard",value:function(){if(!this.props.contentPackage)return null;var e=this.props.contentPackage,t="undefined"!==typeof e.toJS?e.toJS():e;return y.a.createElement(Ee.a,n()({type:I.a.TYPE_CONTENT_PACKAGE},t,{key:t.contentId}))}},{key:"render",value:function(){var e=G()("pageContentWrap",this.props.viewport,{wallpaperArea:this.state.wallpaper},this.props.className),t=G()("contentAreaWrap",this.props.className,{nativeAdInserted:this.props.nativeAdInserted}),a=this.props.content,i=null,r=null,n=this.getContentPackageCard(),s=n&&this.isTopAreaPackage()?n:null,c=this.props.hasFeature&&!s?n:null;if(n&&(a=a.rest()),this.props.hasFeature){var l=this.props.hasTopStories&&!this.props.contentPackage?Object(M.f)(this.props.baseSection):0,u=this.props.isDenseFeatured?L.b:0,p=Object(M.i)(a,l,this.props.hasHighlightedStories,u),h=o()(p,2);r=h[0],i=h[1]}else i=a;var d=this.getDisplayPolicy(),m=o()(d,2),w=m[0],f=m[1],b=null;if(this.props.showNotifications){var g=this.props.baseSection?_.a[this.props.baseSection]:null,k=g&&g.defaultNotifications?Object(C.List)(g.defaultNotifications):Object(C.List)(),v=this.props.notifications&&this.props.notifications.visible?this.props.notifications.visible.concat(k):k,N={notificationList:v,path:this.props.path,viewport:this.props.viewport,pageType:this.props.pageType,baseSection:this.props.baseSection,subSection:this.props.subSection};b=v?y.a.createElement(X.b,N):null}var E=null,S=_.c[this.props.path];return S&&(E=y.a.createElement(se.a,{header:S.header,viewport:this.props.viewport,section:S.section,itemCount:S.itemCount,displayPolicy:new ce.a})),y.a.createElement("div",{className:e},b,E,this.getPolicySelector(),s,y.a.createElement("section",{className:t},y.a.createElement("div",{className:"contentArea"},this.props.beforeContent,this.getFeaturedList(r,f,c),this.getContentList(i,w)),"news"===this.props.path?this.getSideBarNews():this.getSidebar()))}}]),t}(k.PureComponent);Ce.propTypes={content:N.a.instanceOf(C.List),density:N.a.string,hasFeature:N.a.bool,hasSidebar:N.a.bool,lazyLoad:N.a.bool,path:N.a.string,showRegion:N.a.bool,olympicsContent:N.a.instanceOf(C.List),testAdHierarchy:N.a.oneOfType([N.a.string,N.a.bool]),usePrimaryAPI:N.a.bool,showNotifications:N.a.bool,showDisplaySelector:N.a.bool,hasTopStories:N.a.bool,hasHighlightedStories:N.a.bool,customDensity:N.a.string,listHeading:N.a.string,className:N.a.string,sidebarWidgetsAboveAd:N.a.array,sidebarWidgets:N.a.array,pageType:N.a.string,hasNativeAd:N.a.bool,nativeAdInserted:N.a.bool,cardClickHandler:N.a.func,isDenseFeatured:N.a.bool,beforeContent:N.a.element,trendingProps:N.a.object,contentPackage:N.a.object},Ce.defaultProps={content:null,density:L.a.default,hasFeature:!0,hasSidebar:!0,lazyLoad:!1,path:"",showRegion:!1,olympicsContent:null,usePrimaryAPI:!0,showNotifications:!0,showDisplaySelector:!1,hasTopStories:!1,hasHighlightedStories:!0,customDensity:null,listHeading:null,className:"",sidebarWidgetsAboveAd:[],sidebarWidgets:[],pageType:"landing",hasNativeAd:!1,nativeAdInserted:!1,cardClickHandler:function(){},isDenseFeatured:!1,beforeContent:null,trendingProps:{},contentPackage:null};t.a=Object(ne.connect)((function(e,t){return{density:e.density.selection?e.density.selection:t.density}}))(Ce)},772:function(e,t,a){"use strict";var i=a(4),o=a.n(i),r=a(8),n=a.n(r),s=a(5),c=a.n(s),l=a(6),u=a.n(l),p=a(7),h=a.n(p),d=a(16),m=a(92),w=a(2),f=a.n(w),b=function(e){function t(){return o()(this,t),c()(this,u()(t).apply(this,arguments))}return h()(t,e),n()(t,[{key:"groupBy",value:function(e,t){var a=0;return t>0&&(a=1),a}},{key:"transform",value:function(e,t){var a=f.a.fromJS({0:d.a.TYPE_GRAPHICAL});return e.map((function(e){return a.get("".concat(t),d.a.TYPE_GRAPHICAL)}))}}]),t}(m.a);t.a=b},773:function(e,t,a){"use strict";var i=a(4),o=a.n(i),r=a(8),n=a.n(r),s=a(5),c=a.n(s),l=a(6),u=a.n(l),p=a(7),h=a.n(p),d=a(16),m=a(92),w=a(2),f=a.n(w),b=function(e){function t(){return o()(this,t),c()(this,u()(t).apply(this,arguments))}return h()(t,e),n()(t,[{key:"groupBy",value:function(e,t){var a=0;return t>0&&(a=1),a}},{key:"transform",value:function(e,t){var a=f.a.fromJS({0:d.a.TYPE_MEDIA});return e.map((function(e){return a.get("".concat(t),d.a.TYPE_MEDIA)}))}}]),t}(m.a);t.a=b},774:function(e,t,a){"use strict";var i=a(0),o=a.n(i),r=a(1),n=a.n(r),s=a(3),c=a.n(s),l=a(12),u=a.n(l),p=a(4),h=a.n(p),d=a(8),m=a.n(d),w=a(5),f=a.n(w),b=a(6),g=a.n(b),k=a(40),y=a.n(k),v=a(7),N=a.n(v),E=a(36),C=a.n(E),S=a(2),T=a(779),P=2,I=4,x=6,B=a(423),L=a(11),F=a(284),D=a(92),A=function(e){function t(e){var a;return h()(this,t),(a=f()(this,g()(t).call(this,e))).state={swipeOffset:0,currentPage:0},a.instant=!1,a.carouselWidth=0,a.deltaX=0,a.startX=0,a.isSwiping=!1,a.ignoreClick=!1,a.SWIPE_THRESHOLD=.5,a.SLIDES_TO_MOVE=3,a.keyboardFocusTimeDelay=100,a.showNext=a.showNext.bind(y()(a)),a.showPrevious=a.showPrevious.bind(y()(a)),a.makeCardKeyHandler=a.makeCardKeyHandler.bind(y()(a)),a}return N()(t,e),m()(t,[{key:"showPrevious",value:function(){var e=this.state.currentPage;e>0&&(e--,this.instant=!1,this.setState({currentPage:e}))}},{key:"showNext",value:function(){var e=this.state.currentPage;e<this.MAX_PAGES&&(e++,this.instant=!1,this.setState({currentPage:e}))}},{key:"onSwipeStart",value:function(e){var t=e.touches&&e.touches[0]||e;return this.isSwiping=!0,this.swipeStartX=t.pageX,!1}},{key:"onSwipeMove",value:function(e){if(this.isSwiping){var t=e.touches&&e.touches[0]||e,a=this.swipeStartX-t.pageX;this.isSwipe(this.SWIPE_THRESHOLD,a)&&(e.preventDefault(),e.stopPropagation(),this.ignoreClick=!0,this.instant=!0,this.setState({swipeOffset:a}))}}},{key:"onSwipeEnd",value:function(e){return this.instant=!1,e.preventDefault(),e.stopPropagation(),this.isSwiping=!1,!1}},{key:"onSwipePast",value:function(){this.isSwiping&&this.onSwipeEnd()}},{key:"onItemClick",value:function(e){return!this.isSwiping&&!this.ignoreClick||(e.preventDefault(),e.stopPropagation(),this.ignoreClick=!1,!1)}},{key:"makeCardKeyHandler",value:function(e,t,a){var i=this,o=e+1,r=o%t===0&&!(o===t*a),n=o%t===1&&!(1===o),s=this.keyboardFocusTimeDelay;return function(t){var a="Tab"===t.key&&!1===t.shiftKey,o="Tab"===t.key&&!0===t.shiftKey;a&&r&&(i.showNext(),setTimeout((function(){document.querySelector(".sclt-carouselcard"+(e+1)).focus()}),s)),o&&n&&(i.showPrevious(),setTimeout((function(){document.querySelector(".sclt-carouselcard"+(e-1)).focus()}),s))}}},{key:"isSwipe",value:function(e,t){return Math.abs(t)>e}},{key:"getDestValue",value:function(){return-1*(100*this.state.currentPage+this.state.swipeOffset)}},{key:"getListStyles",value:function(){var e=this.getDestValue();return{movement:this.instant?e:Object(T.spring)(e)}}},{key:"componentDidMount",value:function(){this.carouselWidth=C.a.findDOMNode(this).offsetWidth}},{key:"render",value:function(){var e=this;switch(this.props.viewport){case"viewportSmall":this.pageSize=P;break;case"viewportMedium":this.pageSize=I;break;default:this.pageSize=x}this.NUM_SLIDES=this.props.list.size,this.MAX_PAGES=Math.ceil(this.NUM_SLIDES/this.pageSize),this.state.currentPage+1>this.MAX_PAGES&&this.setState({currentPage:this.MAX_PAGES-1});var t=(void 0!==this.props.displayPolicy?this.props.displayPolicy:new F.a).format(this.props.list,{baseSection:"",subSection:"",trackingSection:"carousel"},!1),a=this.state.currentPage>0,i=this.state.currentPage<this.MAX_PAGES-1,r=c()("prev",{show:a}),n=c()("next",{show:i}),s=this.props.swipeEnabled?{onMouseDown:this.onSwipeStart.bind(this),onMouseMove:this.onSwipeMove.bind(this),onMouseUp:this.onSwipeEnd.bind(this),onMouseLeave:this.onSwipePast.bind(this)}:{},l=this.props.touchEnabled?{onTouchStart:this.onSwipeStart.bind(this),onTouchMove:this.onSwipeMove.bind(this),onTouchEnd:this.onSwipeEnd.bind(this)}:{},p=o.a.Children.map(t,(function(t,a){var i=Object.assign({},t.props,{onClick:e.onItemClick.bind(e),viewport:e.props.viewport,cardKeyHandler:e.makeCardKeyHandler(a,e.pageSize,e.MAX_PAGES)});return o.a.cloneElement(t,i)})),h=Object(L.u)("carouselHeader",this.props.header,void 0,!0);return o.a.createElement("div",{className:"carouselWrapper",role:"region","aria-labelledby":h},o.a.createElement("div",{className:"carouselTop"},o.a.createElement("h2",{className:"header",id:h},this.props.header," ",o.a.createElement("span",{className:"a11y"},"Carousel")),o.a.createElement("div",{className:"carouselNav"},o.a.createElement("span",{className:"carouselIndicator"},"Page ",this.state.currentPage+1," of"," ",this.MAX_PAGES))),o.a.createElement("div",{className:"carousel sclt-carousel"},o.a.createElement("button",{disabled:!a,className:r,onClick:this.showPrevious,"aria-hidden":!0},o.a.createElement(B.a,{type:"chevron"})),o.a.createElement("div",u()({className:"itemContainer"},s,l),o.a.createElement(T.Motion,{style:this.getListStyles()},(function(t){var a=t.movement;return o.a.createElement("div",{className:"itemList",style:{transform:e.instant?"translate3d(".concat(a,"px, 0, 0)"):"translate3d(".concat(a,"%, 0, 0)")}},p)}))),o.a.createElement("button",{disabled:!i,className:n,onClick:this.showNext,"aria-hidden":!0},o.a.createElement(B.a,{type:"chevron"}))))}}]),t}(o.a.Component);A.propTypes={list:n.a.instanceOf(S.List),displayPolicy:n.a.instanceOf(D.a),swipeEnabled:n.a.bool,touchEnabled:n.a.bool,viewport:n.a.string,header:n.a.string},A.defaultProps={list:null,displayPolicy:new F.a,swipeEnabled:!1,touchEnabled:!1,header:""};var R=A,O=a(21),j=a(117),H=a(128);function M(e){var t=e.dispatch,a=e.displayPolicy,i=e.header,r=e.itemCount,n=e.pageNum,s=e.path,l=e.section,u=e.sectionalContent,p=e.videoLandingPath,h=e.viewport;o.a.useEffect((function(){t(""!==p?Object(H.c)(l,p,r):Object(j.a)(l,r))}),[s]);var d=p?u[p]:u[l],m=c()("slider",Object(L.u)("section",l));return o.a.createElement("div",{className:m},function(e){return!!(e&&e.sectionList&&e.sectionList.size)}(d)&&o.a.createElement("div",{className:"carouselContainer"},o.a.createElement(R,{header:i,list:d.sectionList,displayPolicy:a,pageNum:n,viewport:h})))}M.propTypes={dispatch:n.a.func,displayPolicy:n.a.instanceOf(D.a),header:n.a.string,path:n.a.string,pageNum:n.a.number,sectionalContent:n.a.object,viewport:n.a.string,videoLandingPath:n.a.string},M.defaultProps={dispatch:function(){},displayPolicy:new F.a,header:"",path:"",pageNum:0,sectionalContent:null,viewport:"viewportLarge",videoLandingPath:""};t.a=Object(O.connect)((function(e){return{sectionalContent:e.sectionalContent,path:e.app.path}}))(M)},775:function(e,t,a){"use strict";var i=a(4),o=a.n(i),r=a(5),n=a.n(r),s=a(6),c=a.n(s),l=a(7),u=a.n(l),p=a(73),h=a.n(p),d=a(101),m=a.n(d),w=a(8),f=a.n(w),b=a(2),g=function(e){function t(){return o()(this,t),n()(this,c()(t).apply(this,arguments))}return u()(t,e),f()(t,[{key:"isEmpty",value:function(){return""===this.title}}]),t}(Object(b.Record)({title:"",liveRadioId:"",radio:"",location:""})),k=a(161),y=a(15),v=a(68);a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return S}));var N=function(){var e=[],t=!0,a=!1,i=void 0;try{for(var o,r=function(){var t=o.value,a=e.find((function(e){return e.province===t.province}));if(a)a.stations.push(t.listenLive[0]);else{var i,r={province:"",stations:[]};r.province=t.province,(i=r.stations).push.apply(i,m()(t.listenLive)),e.push(r)}},n=v.b[Symbol.iterator]();!(t=(o=n.next()).done);t=!0)r()}catch(s){a=!0,i=s}finally{try{t||null==n.return||n.return()}finally{if(a)throw i}}return e},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[],a=!1;return null===e&&(e=N(),a=!0),e.map((function(e){var i={};if(a){var o=e.stations.map((function(e){return new g({title:e.title||"",liveRadioId:e.liveRadioId||"",radio:e.radio||"",location:e.location||""})}));i=Object.assign({},{province:e.province},{stations:o})}else i=new g({title:e.title||"",liveRadioId:e.liveRadioId||"",radio:e.radio||"",location:e.location||""});t.push(i)})),new b.List(t)},C=function(e){function t(){return o()(this,t),n()(this,c()(t).apply(this,arguments))}return u()(t,e),t}(h()(Error));function S(e){var t="".concat(k.a.radio,"&locationKey=").concat(e);return fetch(t).then((function(e){if(!e.ok)throw new C(e.statusText);return e.text()})).catch((function(e){return y.a.send(e),"Sorry, the network request failed."}))}},776:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return u}));var i=a(0),o=a.n(i),r=a(777),n=a(27),s=a(11),c=function(e,t){return t?{baseSection:t.baseSection,subSection:t.subSection,hasMenu:t.hasMenu,hostName:t.host||"",imageUrl:t.image,imageLink:t.imageLink||"",navigation:t.navigation instanceof Array?t.navigation:[],path:e,showName:t.title||"",description:t.description||""}:{section:"",subSection:"",hasMenu:!0,hostName:"",imageUrl:"",imageLink:"",navigation:[],path:e,showName:t?t.title:""}};var l=function(e){var t=null,a=null;if(e.pageType&&"detail"===e.pageType?(a=e.path,t=function(e){var t=!1,a=null,i=!0;for(var o in n.b){if(Object.prototype.hasOwnProperty.call(n.b,o))if(new RegExp("".concat(o,".*-[0-9].[0-9]*"),"g").test(e.path)&&n.b[o].showOnStories){t=!0,a=o,i=Boolean(n.b[o].showMenuOnStories);break}}return t?Object(s.h)(n.b,a,e.baseSection,e.subSection,i):null}(e)):e.app&&(a=e.app.path,t=function(e){var t=!1,a=null;for(var i in n.b)if(Object.prototype.hasOwnProperty.call(n.b,i)){var o=new RegExp("^".concat(i));if(e.app.path===i||n.b[i].showOnAllSubsections&&o.test(e.app.path)){t=!0,a=i;break}}return t?Object(s.h)(n.b,a,e.app.baseSection,e.app.subSection,!0):null}(e)),t){var i=c(a,t);return e.imageUrl&&(i.imageUrl=e.imageUrl),i=u(i,e),o.a.createElement(r.a,i)}return null},u=function(e,t){return e&&!e.imageUrl&&t.rightrail&&t.rightrail.banner&&(e.imageUrl=t.rightrail.banner),e}},777:function(e,t,a){"use strict";var i=a(0),o=a.n(i),r=a(1),n=a.n(r),s=a(3),c=a.n(s),l=a(129),u=a(93),p=a(13),h=a(778),d=a(2),m=a(11);function w(e){var t=e.hostName.trim()?"with ".concat(e.hostName.trim()):"",a=null;if(e.navigation.length&&e.hasMenu){var i={collapseOnMobile:!1,items:Object(d.fromJS)(e.navigation),path:e.path,className:"introNav"};a=o.a.createElement(l.a,i)}var r="";e.showName&&(r=Object(m.u)("show",e.showName));var n="introNav-".concat(e.baseSection,"-").concat(e.subSection),s=c()("showName",r||""),w=c()("pageIntro",r,n,{hasListenLive:e.listenRecord&&e.listenRecord.size&&e.baseSection});return o.a.createElement("div",{className:w},function(e){if(e&&e.size)return o.a.createElement(h.a,{listenRecord:e})}(e.listenRecord),o.a.createElement("h1",{className:"showDetails a11y"},o.a.createElement("span",{className:s},e.showName),o.a.createElement("span",{className:"hostName"},t)),function(e){if(!1===e.showImage)return null;var t=null;e.imageUrl&&(t=o.a.createElement(u.a,{url:e.imageUrl,type:"host-image"}));e.imageLink&&(t=o.a.createElement(p.a,{url:e.imageLink},t));return t}(e),a||function(e){if(e.description)return o.a.createElement("div",{className:"description"},e.description)}(e))}w.propTypes={showName:n.a.string.isRequired,hostName:n.a.string.isRequired,imageUrl:n.a.string.isRequired,navigation:n.a.array,path:n.a.string,baseSection:n.a.string,subSection:n.a.string,listenRecord:n.a.instanceOf(d.List),hasMenu:n.a.bool,showImage:n.a.bool},w.defaultProps={showName:"",hostName:"",imageUrl:"",navigation:[],path:"",baseSection:"",subSection:"",listenRecord:null,hasMenu:!0,showImage:!0},t.a=w},778:function(e,t,a){"use strict";var i=a(4),o=a.n(i),r=a(8),n=a.n(r),s=a(5),c=a.n(s),l=a(6),u=a.n(l),p=a(40),h=a.n(p),d=a(7),m=a.n(d),w=a(0),f=a.n(w),b=a(1),g=a.n(b),k=a(423),y=a(177),v=a(775),N=a(21),E=a(2),C=a(46),S=a(68),T=function(e){function t(e){var a;return o()(this,t),(a=c()(this,u()(t).call(this,e))).state={isOpen:!1,selectedRadio:"",selectedLocation:"",program:""},a.setLiveRadio=a.setLiveRadio.bind(h()(a)),a.toggleDropdownMenu=a.toggleDropdownMenu.bind(h()(a)),a.selectRadio=a.selectRadio.bind(h()(a)),a.keySelectRadio=a.keySelectRadio.bind(h()(a)),a.launchPlayer=a.launchPlayer.bind(h()(a)),a.keyLaunchPlayer=a.keyLaunchPlayer.bind(h()(a)),a}return m()(t,e),n()(t,[{key:"componentDidMount",value:function(){this.getRadioFromStorageAndSetLiveRadio()}},{key:"componentDidUpdate",value:function(e){e!==this.props&&this.getRadioFromStorageAndSetLiveRadio()}},{key:"getRadioFromStorageAndSetLiveRadio",value:function(){this.setLiveRadio(this.getSelectedListenRecord().radio)}},{key:"getMatchingRegion",value:function(e,t){var a=!0,i=!1,o=void 0;try{for(var r,n=this.props.listenRecord[Symbol.iterator]();!(a=(r=n.next()).done);a=!0){var s=r.value,c=!0,l=!1,u=void 0;try{for(var p,h=s.stations[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var d=p.value;if(d.radio===e&&d.location===t)return d}}catch(m){l=!0,u=m}finally{try{c||null==h.return||h.return()}finally{if(l)throw u}}}}catch(m){i=!0,o=m}finally{try{a||null==n.return||n.return()}finally{if(i)throw o}}}},{key:"getSelectedListenRecord",value:function(){var e=this.state.selectedRadio||Object(C.d)(),t=this.state.selectedLocation||"",a=this.props.showRegionHierarchy?S.a.listenLive:this.props.listenRecord.first();return e?this.props.showRegionHierarchy?this.getMatchingRegion(e,t):this.props.listenRecord.find((function(t){return t.radio===e}),null,a):a}},{key:"setLiveRadio",value:function(e){var t=this;Object(v.b)(e).then((function(e){return t.setState({program:e})}))}},{key:"toggleDropdownMenu",value:function(e){this.setState({isOpen:!this.state.isOpen})}},{key:"selectRadio",value:function(e){var t=e.currentTarget.dataset.radio||"",a=e.currentTarget.dataset.location||"";this.setState({selectedRadio:t,selectedLocation:a,isOpen:!1}),this.setLiveRadio(t)}},{key:"keySelectRadio",value:function(e){13===e.charCode&&this.selectRadio(e)}},{key:"launchPlayer",value:function(e){var t="",a=e.currentTarget.dataset.radio,i=e.currentTarget.dataset.location;t=this.props.showRegionHierarchy?this.getMatchingRegion(a,i):this.props.listenRecord.find((function(e){return a===e.radio})),this.props.updateId("open",t.liveRadioId,"liveaudio")}},{key:"keyLaunchPlayer",value:function(e){32===e.charCode?(e.preventDefault(),this.launchPlayer(e)):13===e.charCode&&this.launchPlayer(e)}},{key:"renderDropDownList",value:function(e){var t=this;return f.a.createElement("ul",{key:"radioRegionList"},e.map((function(e){return f.a.createElement("li",{key:e.location},f.a.createElement("button",{id:"radioRegion-".concat(e.radio),key:e.radio,onClick:t.selectRadio,onKeyPress:t.keySelectRadio,"data-radio":e.radio,"data-location":e.location,value:e.radio},e.location))})))}},{key:"renderDropDownMenu",value:function(){var e=this,t=this.props.listenRecord,a=this.state.isOpen;if(t.size<=1)return null;var i=this.getSelectedListenRecord();return f.a.createElement("div",{className:"locationDropDown"},f.a.createElement("button",{className:"locationButton ".concat(a?"open":""),onClick:this.toggleDropdownMenu,"aria-label":"Choose your region, currently ".concat(i.location),"aria-expanded":a?"true":"false"},i.location,f.a.createElement(k.a,{type:"chevron"})),a?this.props.showRegionHierarchy?f.a.createElement("div",{className:"locationList"},f.a.createElement("h3",{className:"a11y"},"Provinces"),this.props.listenRecord.map((function(t,a){return f.a.createElement("div",{className:"radioRegion",key:"radioRegion-".concat(a)},f.a.createElement("h4",{key:t.province},t.province),e.renderDropDownList(t.stations))}))):this.renderDropDownList(t):null)}},{key:"renderListenRecord",value:function(){var e=this.getSelectedListenRecord(),t=this.state.program,a=e.title?e.title:"CBC Radio One";return f.a.createElement("div",{className:"listenLink",onClick:this.launchPlayer,onKeyPress:this.keyLaunchPlayer,"data-radio":e.radio,"data-location":e.location,role:"button",tabIndex:"0"},f.a.createElement("div",null,f.a.createElement(k.a,{type:"play",height:"25px",width:"25px","aria-label":"play"}),f.a.createElement("div",{className:"schedule nowPlaying"},f.a.createElement("span",{className:"nowPlayingNetwork"},a," ",f.a.createElement("span",{className:"".concat(""===t?"hide":"")},"-")," ",t))))}},{key:"render",value:function(){return f.a.createElement("div",{className:"listenLive ".concat(this.props.listenRecord&&this.props.listenRecord.size>1?"hasDropdown":""," ").concat(this.props.showRegionHierarchy?"showsProvinces":"")},f.a.createElement("h2",{className:"a11y"},"LIVE RADIO"),f.a.createElement("span",{className:"liveLabel"},"LIVE"),this.renderDropDownMenu(),this.renderListenRecord())}}]),t}(f.a.PureComponent);T.propTypes={listenRecord:g.a.instanceOf(E.List),showRegionHierarchy:g.a.bool},T.defaultProps={listenRecord:null,showRegionHierarchy:!1},t.a=Object(N.connect)(null,{updateId:y.b})(T)},780:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return s}));var i=a(10),o=(Object(i.d)("Client.path.root"),{showName:"",filterType:"segment"}),r="DISPLAY_POLICY_LISTING",n=3,s={"sports/podcasts":"Sports Podcasts","sports/podcasts/hnic":"Hockey Night in Canada Podcast","sports/podcasts/players-own-voice":"Player's Own Voice Podcast","sports/olympics/road-to-the-olympic-games":"Road to the Olympic Games"}},781:function(e,t,a){},782:function(e,t,a){"use strict";var i=a(4),o=a.n(i),r=a(8),n=a.n(r),s=a(5),c=a.n(s),l=a(6),u=a.n(l),p=a(7),h=a.n(p),d=a(0),m=a.n(d),w=a(1),f=a.n(w),b=a(21),g=a(3),k=a.n(g),y=a(296),v="We\u2019re experimenting with a new recommendation system that will offer a better way to browse and discover content that interests you.",N=a(40),E=a.n(N),C=a(18),S=a.n(C),T=(a(781),function(e){function t(e){var a;return o()(this,t),(a=c()(this,u()(t).call(this,e))).state={disclaimerStatus:!1},a.toggleDisclaimer=a.toggleDisclaimer.bind(E()(a)),a}return h()(t,e),n()(t,[{key:"toggleDisclaimer",value:function(){return this.setState({disclaimerStatus:!this.state.disclaimerStatus})}},{key:"render",value:function(){return m.a.createElement("div",{className:"disclaimer-container"},m.a.createElement("div",{className:"disclaimer","data-status":this.state.disclaimerStatus,id:"disclaimer-info"},this.props.disclaimer),m.a.createElement("button",{className:"question-mark sclt-question-mark","aria-describedby":"disclaimer-info","aria-label":"More Information",onClick:this.toggleDisclaimer},this.state.disclaimerStatus?"X":"?"))}}]),t}(m.a.PureComponent));S()(T,"defaultProps",{disclaimer:""});var P=a(145),I=a(92),x=a(202),B=a(158),L=a(283),F=a(13),D=a(44),A=a.n(D),R=function(e){function t(){return o()(this,t),c()(this,u()(t).apply(this,arguments))}return h()(t,e),n()(t,[{key:"componentDidMount",value:function(){this.props.shouldFetch&&this.props.dispatch(Object(y.a)(this.props.itemCount))}},{key:"shouldComponentUpdate",value:function(e){return!this.props.items||!this.props.items.equals(e.items)}},{key:"getExpandedDisclaimer",value:function(){return m.a.createElement("div",{className:"nboxExplainerTitle"},m.a.createElement("h2",{className:"title"},"Recommended"),m.a.createElement("div",null,m.a.createElement("p",null,m.a.createElement(F.a,{url:"".concat("https://cbchelp.cbc.ca/hc/en-us/articles/115004993533-New-CBC-Recommendations-on-search-page"),external:!0},m.a.createElement("span",{className:"question-mark","aria-hidden":"true"},"?"),"How does this work?")),m.a.createElement("p",{className:"revealer"},v)))}},{key:"renderLayoutVariation",value:function(){var e={items:this.props.items,key:"nbox-widget-".concat(A()()),id:"__nbox_".concat(this.props.type,"__"),fetchSection:!1,headline:"Recommended for you",itemCount:this.props.itemCount,className:"recommended",displayPolicy:this.props.displayPolicy,customTitleBar:this.props.expandedDisclaimer?this.getExpandedDisclaimer():null,title:this.props.title,section:"recommended",loadMore:!1,trackingSection:"contentlist-recommended",forcedImageAspectRatio:"16x9",cardClickHandler:null},t=k()("recommendations",this.props.className,this.props.layout),a="horizontal"===this.props.layout?m.a.createElement(L.a.H2,null,"Recommended for you"):null,i=this.props.expandedDisclaimer?null:m.a.createElement(T,{disclaimer:v}),o="horizontal"===this.props.layout?m.a.createElement(P.a,e):m.a.createElement(B.a,e);return m.a.createElement("div",{className:t,key:A()()},i,a,o)}},{key:"render",value:function(){var e=this.props.items;return e&&e.size?this.renderLayoutVariation():null}}]),t}(m.a.Component);R.propTypes={layout:f.a.string,dispatch:f.a.func,itemCount:f.a.number,shouldFetch:f.a.bool,expandedDisclaimer:f.a.bool,title:f.a.string,displayPolicy:f.a.instanceOf(I.a),items:f.a.object,type:f.a.string},R.defaultProps={layout:"horizontal",dispatch:function(){},itemCount:5,shouldFetch:!0,expandedDisclaimer:!1,title:"",displayPolicy:new x.a,items:null,type:""};t.a=Object(b.connect)((function(e){return{type:e.nbox?e.nbox.type:null,items:e.nbox?e.nbox.items:null}}))(R)},783:function(e,t,a){e.exports=a.p+"static/media/AccountIcon.svg"},784:function(e,t,a){}}]);